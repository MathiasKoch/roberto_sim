   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"stm32f10x_spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.align	1
  20              		.global	SPI_I2S_DeInit
  21              		.thumb
  22              		.thumb_func
  24              	SPI_I2S_DeInit:
  25              	.LFB29:
  26              		.file 1 "lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c"
   1:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
   2:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   3:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @file    stm32f10x_spi.c
   4:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @author  MCD Application Team
   5:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @version V3.5.0
   6:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @date    11-March-2011
   7:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief   This file provides all the SPI firmware functions.
   8:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
   9:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @attention
  10:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  11:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *
  18:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ******************************************************************************
  20:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  21:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  22:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* Includes ------------------------------------------------------------------*/
  23:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_spi.h"
  24:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #include "stm32f10x_rcc.h"
  25:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  26:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  28:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  29:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  30:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI 
  31:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief SPI driver modules
  32:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  33:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  34:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  35:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_TypesDefinitions
  36:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  37:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  38:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  39:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  40:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  41:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */ 
  42:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  43:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  44:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Defines
  45:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  46:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  47:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  48:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SPE mask */
  49:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Set          ((uint16_t)0x0040)
  50:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_SPE_Reset        ((uint16_t)0xFFBF)
  51:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  52:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S I2SE mask */
  53:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Set     ((uint16_t)0x0400)
  54:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_I2SE_Reset   ((uint16_t)0xFBFF)
  55:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  56:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCNext mask */
  57:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCNext_Set      ((uint16_t)0x1000)
  58:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  59:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI CRCEN mask */
  60:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Set        ((uint16_t)0x2000)
  61:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CRCEN_Reset      ((uint16_t)0xDFFF)
  62:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  63:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI SSOE mask */
  64:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Set         ((uint16_t)0x0004)
  65:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR2_SSOE_Reset       ((uint16_t)0xFFFB)
  66:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  67:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI registers Masks */
  68:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define CR1_CLEAR_Mask       ((uint16_t)0x3040)
  69:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2SCFGR_CLEAR_Mask   ((uint16_t)0xF040)
  70:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  71:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* SPI or I2S mode selection masks */
  72:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define SPI_Mode_Select      ((uint16_t)0xF7FF)
  73:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_Mode_Select      ((uint16_t)0x0800) 
  74:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  75:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /* I2S clock source selection masks */
  76:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S2_CLOCK_SRC       ((uint32_t)(0x00020000))
  77:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S3_CLOCK_SRC       ((uint32_t)(0x00040000))
  78:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_MUL_MASK         ((uint32_t)(0x0000F000))
  79:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #define I2S_DIV_MASK         ((uint32_t)(0x000000F0))
  80:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  81:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  82:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  83:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  84:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  85:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Macros
  86:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  87:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  88:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  89:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  90:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  91:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  92:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  93:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Variables
  94:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
  95:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
  96:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
  97:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
  98:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
  99:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 100:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 101:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_FunctionPrototypes
 102:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 103:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 104:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 105:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 106:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @}
 107:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 108:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 109:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /** @defgroup SPI_Private_Functions
 110:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @{
 111:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 112:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 113:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 114:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Deinitializes the SPIx peripheral registers to their default
 115:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         reset values (Affects also the I2Ss).
 116:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 117:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 118:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 119:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 120:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
  27              		.loc 1 120 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
 121:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 122:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 123:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 124:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPIx == SPI1)
  37              		.loc 1 124 0
  38 0002 154B     		ldr	r3, .L7
  39 0004 9842     		cmp	r0, r3
  40 0006 0BD1     		bne	.L2
 125:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 126:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI1 reset state */
 127:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
  41              		.loc 1 127 0
  42 0008 0121     		movs	r1, #1
  43 000a 4FF48050 		mov	r0, #4096
  44              	.LVL1:
  45 000e FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  46              	.LVL2:
 128:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI1 from reset state */
 129:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 130:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 131:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else if (SPIx == SPI2)
 132:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 133:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable SPI2 reset state */
 134:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 135:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
 136:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 137:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 138:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 139:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 140:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if (SPIx == SPI3)
 141:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 142:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Enable SPI3 reset state */
 143:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 144:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
 145:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 146:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 147:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 148:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
  47              		.loc 1 148 0
  48 0012 BDE80840 		pop	{r3, lr}
  49              	.LCFI1:
  50              		.cfi_remember_state
  51              		.cfi_restore 14
  52              		.cfi_restore 3
  53              		.cfi_def_cfa_offset 0
 129:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  54              		.loc 1 129 0
  55 0016 0021     		movs	r1, #0
  56 0018 4FF48050 		mov	r0, #4096
  57 001c FFF7FEBF 		b	RCC_APB2PeriphResetCmd
  58              	.LVL3:
  59              	.L2:
  60              	.LCFI2:
  61              		.cfi_restore_state
 131:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
  62              		.loc 1 131 0
  63 0020 0E4B     		ldr	r3, .L7+4
  64 0022 9842     		cmp	r0, r3
  65 0024 08D1     		bne	.L3
 134:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Release SPI2 from reset state */
  66              		.loc 1 134 0
  67 0026 0121     		movs	r1, #1
  68 0028 4FF48040 		mov	r0, #16384
  69              	.LVL4:
  70 002c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  71              	.LVL5:
 136:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
  72              		.loc 1 136 0
  73 0030 0021     		movs	r1, #0
  74 0032 4FF48040 		mov	r0, #16384
  75 0036 0AE0     		b	.L5
  76              	.LVL6:
  77              	.L3:
 140:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
  78              		.loc 1 140 0
  79 0038 094B     		ldr	r3, .L7+8
  80 003a 9842     		cmp	r0, r3
  81 003c 0BD1     		bne	.L1
 143:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Release SPI3 from reset state */
  82              		.loc 1 143 0
  83 003e 0121     		movs	r1, #1
  84 0040 4FF40040 		mov	r0, #32768
  85              	.LVL7:
  86 0044 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  87              	.LVL8:
 145:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
  88              		.loc 1 145 0
  89 0048 0021     		movs	r1, #0
  90 004a 4FF40040 		mov	r0, #32768
  91              	.L5:
  92              		.loc 1 148 0
  93 004e BDE80840 		pop	{r3, lr}
  94              	.LCFI3:
  95              		.cfi_remember_state
  96              		.cfi_restore 14
  97              		.cfi_restore 3
  98              		.cfi_def_cfa_offset 0
 145:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
  99              		.loc 1 145 0
 100 0052 FFF7FEBF 		b	RCC_APB1PeriphResetCmd
 101              	.LVL9:
 102              	.L1:
 103              	.LCFI4:
 104              		.cfi_restore_state
 105 0056 08BD     		pop	{r3, pc}
 106              	.L8:
 107              		.align	2
 108              	.L7:
 109 0058 00300140 		.word	1073819648
 110 005c 00380040 		.word	1073756160
 111 0060 003C0040 		.word	1073757184
 112              		.cfi_endproc
 113              	.LFE29:
 115              		.align	1
 116              		.global	SPI_Init
 117              		.thumb
 118              		.thumb_func
 120              	SPI_Init:
 121              	.LFB30:
 149:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 150:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 151:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 152:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the SPI_InitStruct.
 153:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 154:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 155:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 156:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 157:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 158:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 159:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 122              		.loc 1 159 0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126              	.LVL10:
 160:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0;
 161:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 162:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* check the parameters */
 163:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));   
 164:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 165:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the SPI parameters */
 166:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 167:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 168:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 169:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 170:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 171:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 172:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 173:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 174:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 175:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 176:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 177:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPIx CR1 value */
 178:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->CR1;
 127              		.loc 1 178 0
 128 0064 0388     		ldrh	r3, [r0]
 129              	.LVL11:
 179:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 180:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg &= CR1_CLEAR_Mask;
 181:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 182:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****      master/salve mode, CPOL and CPHA */
 183:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 184:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 185:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 186:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
 187:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 188:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 189:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 130              		.loc 1 189 0
 131 0066 0A88     		ldrh	r2, [r1]
 159:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0;
 132              		.loc 1 159 0
 133 0068 10B5     		push	{r4, lr}
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 4, -8
 137              		.cfi_offset 14, -4
 180:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 138              		.loc 1 180 0
 139 006a 03F44154 		and	r4, r3, #12352
 140              	.LVL12:
 141              		.loc 1 189 0
 142 006e 4B88     		ldrh	r3, [r1, #2]
 143 0070 1343     		orrs	r3, r3, r2
 144 0072 8A88     		ldrh	r2, [r1, #4]
 145 0074 1343     		orrs	r3, r3, r2
 146 0076 CA88     		ldrh	r2, [r1, #6]
 147 0078 1343     		orrs	r3, r3, r2
 148 007a 0A89     		ldrh	r2, [r1, #8]
 149 007c 1343     		orrs	r3, r3, r2
 150 007e 4A89     		ldrh	r2, [r1, #10]
 151 0080 1343     		orrs	r3, r3, r2
 152 0082 8A89     		ldrh	r2, [r1, #12]
 153 0084 1343     		orrs	r3, r3, r2
 154 0086 CA89     		ldrh	r2, [r1, #14]
 155 0088 1343     		orrs	r3, r3, r2
 156 008a 2343     		orrs	r3, r3, r4
 157 008c 9BB2     		uxth	r3, r3
 158              	.LVL13:
 190:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 191:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 192:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 193:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CR1 */
 194:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 = tmpreg;
 159              		.loc 1 194 0
 160 008e 0380     		strh	r3, [r0]	@ movhi
 195:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 196:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 197:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= SPI_Mode_Select;		
 161              		.loc 1 197 0
 162 0090 838B     		ldrh	r3, [r0, #28]
 163              	.LVL14:
 164 0092 23F40063 		bic	r3, r3, #2048
 165 0096 1B04     		lsls	r3, r3, #16
 166 0098 1B0C     		lsrs	r3, r3, #16
 167 009a 8383     		strh	r3, [r0, #28]	@ movhi
 168              	.LVL15:
 198:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 199:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 200:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx CRCPOLY */
 201:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
 169              		.loc 1 201 0
 170 009c 0B8A     		ldrh	r3, [r1, #16]
 171 009e 0382     		strh	r3, [r0, #16]	@ movhi
 172 00a0 10BD     		pop	{r4, pc}
 173              		.cfi_endproc
 174              	.LFE30:
 176              		.align	1
 177              		.global	I2S_Init
 178              		.thumb
 179              		.thumb_func
 181              	I2S_Init:
 182              	.LFB31:
 202:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 203:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 204:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 205:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 206:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         parameters in the I2S_InitStruct.
 207:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral
 208:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         (configured in I2S mode).
 209:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 210:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 211:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *         configured in I2S mode.
 212:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 213:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  The function calculates the optimal prescaler needed to obtain the most 
 214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  accurate audio frequency (depending on the I2S clock source, the PLL values 
 215:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  and the product configuration). But in case the prescaler value is greater 
 216:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *  than 511, the default value (0x02) will be configured instead.  *   
 217:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 218:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 219:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 183              		.loc 1 220 0
 184              		.cfi_startproc
 185              		@ args = 0, pretend = 0, frame = 24
 186              		@ frame_needed = 0, uses_anonymous_args = 0
 187              	.LVL16:
 221:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 222:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t tmp = 0;
 223:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   RCC_ClocksTypeDef RCC_Clocks;
 224:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint32_t sourceclock = 0;
 225:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 226:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the I2S parameters */
 227:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 228:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 229:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 230:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 231:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 232:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 233:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 234:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 235:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 236:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 237:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_Mask; 
 188              		.loc 1 237 0
 189 00a2 838B     		ldrh	r3, [r0, #28]
 220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 190              		.loc 1 220 0
 191 00a4 F0B5     		push	{r4, r5, r6, r7, lr}
 192              	.LCFI6:
 193              		.cfi_def_cfa_offset 20
 194              		.cfi_offset 4, -20
 195              		.cfi_offset 5, -16
 196              		.cfi_offset 6, -12
 197              		.cfi_offset 7, -8
 198              		.cfi_offset 14, -4
 199              		.loc 1 237 0
 200 00a6 23F47B63 		bic	r3, r3, #4016
 201 00aa 23F00F03 		bic	r3, r3, #15
 202 00ae 1B04     		lsls	r3, r3, #16
 203 00b0 1B0C     		lsrs	r3, r3, #16
 204 00b2 8383     		strh	r3, [r0, #28]	@ movhi
 238:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = 0x0002;
 205              		.loc 1 238 0
 206 00b4 0223     		movs	r3, #2
 207 00b6 0384     		strh	r3, [r0, #32]	@ movhi
 239:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 240:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the I2SCFGR register value */
 241:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg = SPIx->I2SCFGR;
 242:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 243:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 244:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 208              		.loc 1 244 0
 209 00b8 8B68     		ldr	r3, [r1, #8]
 241:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 210              		.loc 1 241 0
 211 00ba 868B     		ldrh	r6, [r0, #28]
 212              		.loc 1 244 0
 213 00bc 022B     		cmp	r3, #2
 220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 214              		.loc 1 220 0
 215 00be 87B0     		sub	sp, sp, #28
 216              	.LCFI7:
 217              		.cfi_def_cfa_offset 48
 220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 218              		.loc 1 220 0
 219 00c0 0546     		mov	r5, r0
 220 00c2 0C46     		mov	r4, r1
 241:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 221              		.loc 1 241 0
 222 00c4 B6B2     		uxth	r6, r6
 223              	.LVL17:
 224              		.loc 1 244 0
 225 00c6 23D0     		beq	.L16
 245:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 246:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)0;
 247:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)2;   
 248:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 249:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 250:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 251:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 252:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the frame length (For the Prescaler computing) */
 253:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 226              		.loc 1 253 0
 227 00c8 8B88     		ldrh	r3, [r1, #4]
 254:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 255:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 16 bits */
 256:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 1;
 257:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 258:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 259:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 260:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Packet length is 32 bits */
 261:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       packetlength = 2;
 262:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 263:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 264:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the I2S clock source mask depending on the peripheral number */
 265:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(((uint32_t)SPIx) == SPI2_BASE)
 266:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 267:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S2 */
 268:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S2_CLOCK_SRC;
 269:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 270:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else 
 271:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 272:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* The mask is relative to I2S3 */      
 273:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = I2S3_CLOCK_SRC;
 274:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 275:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 276:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the I2S clock source configuration depending on the Device:
 277:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****        Only Connectivity line devices have the PLL3 VCO clock */
 278:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #ifdef STM32F10X_CL
 279:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if((RCC->CFGR2 & tmp) != 0)
 280:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 281:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the configuration bits of RCC PLL3 multiplier */
 282:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint32_t)((RCC->CFGR2 & I2S_MUL_MASK) >> 12);
 283:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 284:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the value of the PLL3 multiplier */      
 285:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       if((tmp > 5) && (tmp < 15))
 286:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 287:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         /* Multiplier is between 8 and 14 (value 15 is forbidden) */
 288:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         tmp += 2;
 289:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }
 290:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       else
 291:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       {
 292:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         if (tmp == 15)
 293:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         {
 294:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           /* Multiplier is 20 */
 295:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****           tmp = 20;
 296:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****         }
 297:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       }      
 298:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the PREDIV2 value */
 299:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t)(((RCC->CFGR2 & I2S_DIV_MASK) >> 4) + 1);
 300:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 301:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Calculate the Source Clock frequency based on PLL3 and PREDIV2 values */
 302:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = (uint32_t) ((HSE_Value / sourceclock) * tmp * 2); 
 303:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 304:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 305:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 306:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* I2S Clock source is System clock: Get System Clock frequency */
 307:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       RCC_GetClocksFreq(&RCC_Clocks);      
 308:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 309:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* Get the source clock value: based on System Clock value */
 310:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       sourceclock = RCC_Clocks.SYSCLK_Frequency;
 311:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }        
 312:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #else /* STM32F10X_HD */
 313:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* I2S Clock source is System clock: Get System Clock frequency */
 314:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     RCC_GetClocksFreq(&RCC_Clocks);      
 228              		.loc 1 314 0
 229 00ca 01A8     		add	r0, sp, #4
 230              	.LVL18:
 253:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 231              		.loc 1 253 0
 232 00cc 002B     		cmp	r3, #0
 261:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 233              		.loc 1 261 0
 234 00ce 14BF     		ite	ne
 235 00d0 0227     		movne	r7, #2
 236 00d2 0127     		moveq	r7, #1
 237              	.LVL19:
 238              		.loc 1 314 0
 239 00d4 FFF7FEFF 		bl	RCC_GetClocksFreq
 240              	.LVL20:
 315:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 316:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the source clock value: based on System Clock value */
 317:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     sourceclock = RCC_Clocks.SYSCLK_Frequency;    
 318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #endif /* STM32F10X_CL */    
 319:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 320:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the Real divider depending on the MCLK output state with a floating point */
 321:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 241              		.loc 1 321 0
 242 00d8 E388     		ldrh	r3, [r4, #6]
 317:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** #endif /* STM32F10X_CL */    
 243              		.loc 1 317 0
 244 00da 0199     		ldr	r1, [sp, #4]
 245              	.LVL21:
 246              		.loc 1 321 0
 247 00dc B3F5007F 		cmp	r3, #512
 322:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 323:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is enabled */
 324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 325:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 326:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     else
 327:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     {
 328:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       /* MCLK output is disabled */
 329:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       tmp = (uint16_t)(((((sourceclock / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq
 248              		.loc 1 329 0
 249 00e0 1CBF     		itt	ne
 250 00e2 7F01     		lslne	r7, r7, #5
 251              	.LVL22:
 252 00e4 B1FBF7F1 		udivne	r1, r1, r7
 253              	.LVL23:
 254 00e8 4FF00A02 		mov	r2, #10
 324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 255              		.loc 1 324 0
 256 00ec 08BF     		it	eq
 257 00ee 090A     		lsreq	r1, r1, #8
 258              		.loc 1 329 0
 259 00f0 4A43     		muls	r2, r1, r2
 260 00f2 A368     		ldr	r3, [r4, #8]
 261 00f4 B2FBF3F3 		udiv	r3, r2, r3
 262 00f8 0533     		adds	r3, r3, #5
 330:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 331:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Remove the floating point */
 333:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     tmp = tmp / 10;  
 263              		.loc 1 333 0
 264 00fa 0A22     		movs	r2, #10
 329:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     }
 265              		.loc 1 329 0
 266 00fc 9BB2     		uxth	r3, r3
 267              	.LVL24:
 268              		.loc 1 333 0
 269 00fe B3FBF2F3 		udiv	r3, r3, r2
 270              	.LVL25:
 334:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****       
 335:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Check the parity of the divider */
 336:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 337:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 338:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Compute the i2sdiv prescaler */
 339:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 271              		.loc 1 339 0
 272 0102 03F00102 		and	r2, r3, #1
 340:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 341:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 342:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 273              		.loc 1 342 0
 274 0106 1202     		lsls	r2, r2, #8
 339:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****    
 275              		.loc 1 339 0
 276 0108 C3F34F03 		ubfx	r3, r3, #1, #16
 277              	.LVL26:
 278              		.loc 1 342 0
 279 010c 92B2     		uxth	r2, r2
 280              	.LVL27:
 281 010e 00E0     		b	.L11
 282              	.LVL28:
 283              	.L16:
 246:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = (uint16_t)2;   
 284              		.loc 1 246 0
 285 0110 0022     		movs	r2, #0
 286              	.LVL29:
 287              	.L11:
 343:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 344:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 345:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 346:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 288              		.loc 1 346 0
 289 0112 991E     		subs	r1, r3, #2
 290 0114 89B2     		uxth	r1, r1
 347:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 348:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the default values */
 349:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sdiv = 2;
 350:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     i2sodd = 0;
 291              		.loc 1 350 0
 292 0116 FE29     		cmp	r1, #254
 293 0118 24BF     		itt	cs
 294 011a 0022     		movcs	r2, #0
 295              	.LVL30:
 296 011c 0223     		movcs	r3, #2
 297              	.LVL31:
 351:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 352:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 353:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 354:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SPR = (uint16_t)(i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCLKOutput));
 298              		.loc 1 354 0
 299 011e 1343     		orrs	r3, r3, r2
 300              	.LVL32:
 301 0120 E288     		ldrh	r2, [r4, #6]
 302              	.LVL33:
 303 0122 1343     		orrs	r3, r3, r2
 304 0124 9BB2     		uxth	r3, r3
 305 0126 2B84     		strh	r3, [r5, #32]	@ movhi
 306 0128 2388     		ldrh	r3, [r4]
 307 012a A288     		ldrh	r2, [r4, #4]
 308 012c 1E43     		orrs	r6, r6, r3
 309              	.LVL34:
 310 012e 6388     		ldrh	r3, [r4, #2]
 311 0130 46F40066 		orr	r6, r6, #2048
 312 0134 3343     		orrs	r3, r3, r6
 313 0136 1343     		orrs	r3, r3, r2
 355:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 356:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 357:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   tmpreg |= (uint16_t)(I2S_Mode_Select | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 314              		.loc 1 357 0
 315 0138 A289     		ldrh	r2, [r4, #12]
 316 013a 1343     		orrs	r3, r3, r2
 317 013c 9BB2     		uxth	r3, r3
 318              	.LVL35:
 358:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 359:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 360:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****  
 361:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write to SPIx I2SCFGR */  
 362:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->I2SCFGR = tmpreg;   
 319              		.loc 1 362 0
 320 013e AB83     		strh	r3, [r5, #28]	@ movhi
 363:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 321              		.loc 1 363 0
 322 0140 07B0     		add	sp, sp, #28
 323              	.LCFI8:
 324              		.cfi_def_cfa_offset 20
 325              		@ sp needed
 326 0142 F0BD     		pop	{r4, r5, r6, r7, pc}
 327              		.cfi_endproc
 328              	.LFE31:
 330              		.align	1
 331              		.global	SPI_StructInit
 332              		.thumb
 333              		.thumb_func
 335              	SPI_StructInit:
 336              	.LFB32:
 364:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 365:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 366:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 367:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_InitStruct : pointer to a SPI_InitTypeDef structure which will be initialized.
 368:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 369:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 370:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 371:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 337              		.loc 1 371 0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		@ link register save eliminated.
 342              	.LVL36:
 372:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 373:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_Direction member */
 374:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
 343              		.loc 1 374 0
 344 0144 0023     		movs	r3, #0
 345 0146 0380     		strh	r3, [r0]	@ movhi
 375:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_Mode member */
 376:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 346              		.loc 1 376 0
 347 0148 4380     		strh	r3, [r0, #2]	@ movhi
 377:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* initialize the SPI_DataSize member */
 378:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 348              		.loc 1 378 0
 349 014a 8380     		strh	r3, [r0, #4]	@ movhi
 379:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPOL member */
 380:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 350              		.loc 1 380 0
 351 014c C380     		strh	r3, [r0, #6]	@ movhi
 381:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CPHA member */
 382:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 352              		.loc 1 382 0
 353 014e 0381     		strh	r3, [r0, #8]	@ movhi
 383:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_NSS member */
 384:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 354              		.loc 1 384 0
 355 0150 4381     		strh	r3, [r0, #10]	@ movhi
 385:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 386:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 356              		.loc 1 386 0
 357 0152 8381     		strh	r3, [r0, #12]	@ movhi
 387:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_FirstBit member */
 388:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 358              		.loc 1 388 0
 359 0154 C381     		strh	r3, [r0, #14]	@ movhi
 389:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 390:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 360              		.loc 1 390 0
 361 0156 0723     		movs	r3, #7
 362 0158 0382     		strh	r3, [r0, #16]	@ movhi
 363 015a 7047     		bx	lr
 364              		.cfi_endproc
 365              	.LFE32:
 367              		.align	1
 368              		.global	I2S_StructInit
 369              		.thumb
 370              		.thumb_func
 372              	I2S_StructInit:
 373              	.LFB33:
 391:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 392:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 393:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 394:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 395:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  I2S_InitStruct : pointer to a I2S_InitTypeDef structure which will be initialized.
 396:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 397:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 398:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 399:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 374              		.loc 1 399 0
 375              		.cfi_startproc
 376              		@ args = 0, pretend = 0, frame = 0
 377              		@ frame_needed = 0, uses_anonymous_args = 0
 378              		@ link register save eliminated.
 379              	.LVL37:
 400:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 401:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Mode member */
 402:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 380              		.loc 1 402 0
 381 015c 0023     		movs	r3, #0
 403:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 404:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_Standard member */
 405:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 406:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 407:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_DataFormat member */
 408:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 409:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 410:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 411:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 412:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 413:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_AudioFreq member */
 414:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 382              		.loc 1 414 0
 383 015e 0222     		movs	r2, #2
 402:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 384              		.loc 1 402 0
 385 0160 0380     		strh	r3, [r0]	@ movhi
 405:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 386              		.loc 1 405 0
 387 0162 4380     		strh	r3, [r0, #2]	@ movhi
 408:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 388              		.loc 1 408 0
 389 0164 8380     		strh	r3, [r0, #4]	@ movhi
 411:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 390              		.loc 1 411 0
 391 0166 C380     		strh	r3, [r0, #6]	@ movhi
 392              		.loc 1 414 0
 393 0168 8260     		str	r2, [r0, #8]
 415:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 416:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Initialize the I2S_CPOL member */
 417:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 394              		.loc 1 417 0
 395 016a 8381     		strh	r3, [r0, #12]	@ movhi
 396 016c 7047     		bx	lr
 397              		.cfi_endproc
 398              	.LFE33:
 400              		.align	1
 401              		.global	SPI_Cmd
 402              		.thumb
 403              		.thumb_func
 405              	SPI_Cmd:
 406              	.LFB34:
 418:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 419:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 420:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 421:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 422:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 423:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 424:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 425:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 426:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 427:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 428:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 407              		.loc 1 428 0
 408              		.cfi_startproc
 409              		@ args = 0, pretend = 0, frame = 0
 410              		@ frame_needed = 0, uses_anonymous_args = 0
 411              		@ link register save eliminated.
 412              	.LVL38:
 429:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 430:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 431:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 432:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 433:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 434:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral */
 435:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_SPE_Set;
 413              		.loc 1 435 0
 414 016e 0388     		ldrh	r3, [r0]
 432:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 415              		.loc 1 432 0
 416 0170 19B1     		cbz	r1, .L22
 417              		.loc 1 435 0
 418 0172 9BB2     		uxth	r3, r3
 419 0174 43F04003 		orr	r3, r3, #64
 420 0178 03E0     		b	.L24
 421              	.L22:
 436:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 437:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 438:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 439:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral */
 440:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_SPE_Reset;
 422              		.loc 1 440 0
 423 017a 23F04003 		bic	r3, r3, #64
 424 017e 1B04     		lsls	r3, r3, #16
 425 0180 1B0C     		lsrs	r3, r3, #16
 426              	.L24:
 427 0182 0380     		strh	r3, [r0]	@ movhi
 428 0184 7047     		bx	lr
 429              		.cfi_endproc
 430              	.LFE34:
 432              		.align	1
 433              		.global	I2S_Cmd
 434              		.thumb
 435              		.thumb_func
 437              	I2S_Cmd:
 438              	.LFB35:
 441:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 442:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 443:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 444:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 445:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 446:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral.
 447:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 448:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 449:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 450:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 451:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 452:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 439              		.loc 1 452 0
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 0
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 443              		@ link register save eliminated.
 444              	.LVL39:
 453:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 454:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 455:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 456:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 457:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 458:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 459:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR |= I2SCFGR_I2SE_Set;
 445              		.loc 1 459 0
 446 0186 838B     		ldrh	r3, [r0, #28]
 456:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 447              		.loc 1 456 0
 448 0188 19B1     		cbz	r1, .L26
 449              		.loc 1 459 0
 450 018a 9BB2     		uxth	r3, r3
 451 018c 43F48063 		orr	r3, r3, #1024
 452 0190 03E0     		b	.L28
 453              	.L26:
 460:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 461:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 462:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 463:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI peripheral (in I2S mode) */
 464:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->I2SCFGR &= I2SCFGR_I2SE_Reset;
 454              		.loc 1 464 0
 455 0192 23F48063 		bic	r3, r3, #1024
 456 0196 1B04     		lsls	r3, r3, #16
 457 0198 1B0C     		lsrs	r3, r3, #16
 458              	.L28:
 459 019a 8383     		strh	r3, [r0, #28]	@ movhi
 460 019c 7047     		bx	lr
 461              		.cfi_endproc
 462              	.LFE35:
 464              		.align	1
 465              		.global	SPI_I2S_ITConfig
 466              		.thumb
 467              		.thumb_func
 469              	SPI_I2S_ITConfig:
 470              	.LFB36:
 465:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 466:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 467:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 468:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 469:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
 470:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 471:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 472:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 473:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to be enabled or disabled. 
 474:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 475:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
 476:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
 477:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_ERR: Error interrupt mask
 478:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the specified SPI/I2S interrupt.
 479:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 480:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 481:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 482:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
 483:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 471              		.loc 1 483 0
 472              		.cfi_startproc
 473              		@ args = 0, pretend = 0, frame = 0
 474              		@ frame_needed = 0, uses_anonymous_args = 0
 475              		@ link register save eliminated.
 476              	.LVL40:
 484:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 485:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 486:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 487:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 488:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 489:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 490:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
 491:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = SPI_I2S_IT >> 4;
 492:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 493:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 494:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 477              		.loc 1 494 0
 478 019e 0123     		movs	r3, #1
 479 01a0 0909     		lsrs	r1, r1, #4
 480              	.LVL41:
 481 01a2 03FA01F1 		lsl	r1, r3, r1
 495:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 496:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 497:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 498:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S interrupt */
 499:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= itmask;
 482              		.loc 1 499 0
 483 01a6 8388     		ldrh	r3, [r0, #4]
 494:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 484              		.loc 1 494 0
 485 01a8 89B2     		uxth	r1, r1
 486              	.LVL42:
 487              		.loc 1 499 0
 488 01aa 9BB2     		uxth	r3, r3
 496:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 489              		.loc 1 496 0
 490 01ac 0AB1     		cbz	r2, .L30
 491              		.loc 1 499 0
 492 01ae 1943     		orrs	r1, r1, r3
 493              	.LVL43:
 494 01b0 01E0     		b	.L32
 495              	.LVL44:
 496              	.L30:
 500:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 501:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 502:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 503:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S interrupt */
 504:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
 497              		.loc 1 504 0
 498 01b2 23EA0101 		bic	r1, r3, r1
 499              	.LVL45:
 500              	.L32:
 501 01b6 8180     		strh	r1, [r0, #4]	@ movhi
 502 01b8 7047     		bx	lr
 503              		.cfi_endproc
 504              	.LFE36:
 506              		.align	1
 507              		.global	SPI_I2S_DMACmd
 508              		.thumb
 509              		.thumb_func
 511              	SPI_I2S_DMACmd:
 512              	.LFB37:
 505:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 506:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 507:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 508:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 509:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 510:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 511:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 512:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 513:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI/I2S DMA transfer request to be enabled or disabled. 
 514:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be any combination of the following values:
 515:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
 516:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
 517:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the selected SPI/I2S DMA transfer request.
 518:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 519:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 520:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 521:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
 522:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 513              		.loc 1 522 0
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 0
 516              		@ frame_needed = 0, uses_anonymous_args = 0
 517              		@ link register save eliminated.
 518              	.LVL46:
 523:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 524:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 525:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 526:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
 527:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 528:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 529:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI/I2S DMA requests */
 530:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 519              		.loc 1 530 0
 520 01ba 8388     		ldrh	r3, [r0, #4]
 521 01bc 9BB2     		uxth	r3, r3
 527:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 522              		.loc 1 527 0
 523 01be 0AB1     		cbz	r2, .L34
 524              		.loc 1 530 0
 525 01c0 1943     		orrs	r1, r1, r3
 526              	.LVL47:
 527 01c2 01E0     		b	.L36
 528              	.LVL48:
 529              	.L34:
 531:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 532:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 533:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 534:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI/I2S DMA requests */
 535:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 530              		.loc 1 535 0
 531 01c4 23EA0101 		bic	r1, r3, r1
 532              	.LVL49:
 533              	.L36:
 534 01c8 8180     		strh	r1, [r0, #4]	@ movhi
 535 01ca 7047     		bx	lr
 536              		.cfi_endproc
 537              	.LFE37:
 539              		.align	1
 540              		.global	SPI_I2S_SendData
 541              		.thumb
 542              		.thumb_func
 544              	SPI_I2S_SendData:
 545              	.LFB38:
 536:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 537:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 538:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 539:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 540:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 541:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 542:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 543:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 544:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  Data : Data to be transmitted.
 545:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 546:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 547:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 548:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 546              		.loc 1 548 0
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 0
 549              		@ frame_needed = 0, uses_anonymous_args = 0
 550              		@ link register save eliminated.
 551              	.LVL50:
 549:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 550:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 551:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 552:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Write in the DR register the data to be sent */
 553:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->DR = Data;
 552              		.loc 1 553 0
 553 01cc 8181     		strh	r1, [r0, #12]	@ movhi
 554 01ce 7047     		bx	lr
 555              		.cfi_endproc
 556              	.LFE38:
 558              		.align	1
 559              		.global	SPI_I2S_ReceiveData
 560              		.thumb
 561              		.thumb_func
 563              	SPI_I2S_ReceiveData:
 564              	.LFB39:
 554:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 555:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 556:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 557:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 558:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 559:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 560:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 561:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The value of the received data.
 562:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 563:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 564:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 565              		.loc 1 564 0
 566              		.cfi_startproc
 567              		@ args = 0, pretend = 0, frame = 0
 568              		@ frame_needed = 0, uses_anonymous_args = 0
 569              		@ link register save eliminated.
 570              	.LVL51:
 565:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 566:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 567:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 568:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the data in the DR register */
 569:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->DR;
 571              		.loc 1 569 0
 572 01d0 8089     		ldrh	r0, [r0, #12]
 573              	.LVL52:
 570:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 574              		.loc 1 570 0
 575 01d2 80B2     		uxth	r0, r0
 576 01d4 7047     		bx	lr
 577              		.cfi_endproc
 578              	.LFE39:
 580              		.align	1
 581              		.global	SPI_NSSInternalSoftwareConfig
 582              		.thumb
 583              		.thumb_func
 585              	SPI_NSSInternalSoftwareConfig:
 586              	.LFB40:
 571:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 572:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 573:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 574:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 575:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 576:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 577:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 578:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 579:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 580:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 581:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 582:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 587              		.loc 1 582 0
 588              		.cfi_startproc
 589              		@ args = 0, pretend = 0, frame = 0
 590              		@ frame_needed = 0, uses_anonymous_args = 0
 591              		@ link register save eliminated.
 592              	.LVL53:
 583:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 584:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 585:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 586:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
 593              		.loc 1 586 0
 594 01d6 4FF6FF63 		movw	r3, #65279
 595 01da 9942     		cmp	r1, r3
 587:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 588:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set NSS pin internally by software */
 589:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 596              		.loc 1 589 0
 597 01dc 0388     		ldrh	r3, [r0]
 590:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 591:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 592:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 593:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Reset NSS pin internally by software */
 594:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 598              		.loc 1 594 0
 599 01de 0BBF     		itete	eq
 600 01e0 23F48073 		biceq	r3, r3, #256
 589:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 601              		.loc 1 589 0
 602 01e4 9BB2     		uxthne	r3, r3
 603              		.loc 1 594 0
 604 01e6 1B04     		lsleq	r3, r3, #16
 589:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 605              		.loc 1 589 0
 606 01e8 43F48073 		orrne	r3, r3, #256
 607              		.loc 1 594 0
 608 01ec 08BF     		it	eq
 609 01ee 1B0C     		lsreq	r3, r3, #16
 610 01f0 0380     		strh	r3, [r0]	@ movhi
 611 01f2 7047     		bx	lr
 612              		.cfi_endproc
 613              	.LFE40:
 615              		.align	1
 616              		.global	SPI_SSOutputCmd
 617              		.thumb
 618              		.thumb_func
 620              	SPI_SSOutputCmd:
 621              	.LFB41:
 595:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 596:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 597:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 598:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 599:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 600:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 601:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 602:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 603:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 604:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 605:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 606:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 622              		.loc 1 606 0
 623              		.cfi_startproc
 624              		@ args = 0, pretend = 0, frame = 0
 625              		@ frame_needed = 0, uses_anonymous_args = 0
 626              		@ link register save eliminated.
 627              	.LVL54:
 607:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 608:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 609:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 610:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 611:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 612:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI SS output */
 613:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 |= CR2_SSOE_Set;
 628              		.loc 1 613 0
 629 01f4 8388     		ldrh	r3, [r0, #4]
 610:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 630              		.loc 1 610 0
 631 01f6 19B1     		cbz	r1, .L44
 632              		.loc 1 613 0
 633 01f8 9BB2     		uxth	r3, r3
 634 01fa 43F00403 		orr	r3, r3, #4
 635 01fe 03E0     		b	.L46
 636              	.L44:
 614:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 615:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 616:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 617:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI SS output */
 618:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR2 &= CR2_SSOE_Reset;
 637              		.loc 1 618 0
 638 0200 23F00403 		bic	r3, r3, #4
 639 0204 1B04     		lsls	r3, r3, #16
 640 0206 1B0C     		lsrs	r3, r3, #16
 641              	.L46:
 642 0208 8380     		strh	r3, [r0, #4]	@ movhi
 643 020a 7047     		bx	lr
 644              		.cfi_endproc
 645              	.LFE41:
 647              		.align	1
 648              		.global	SPI_DataSizeConfig
 649              		.thumb
 650              		.thumb_func
 652              	SPI_DataSizeConfig:
 653              	.LFB42:
 619:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 620:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 621:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 622:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 623:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Configures the data size for the selected SPI.
 624:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 625:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 626:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 627:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_16b: Set data frame format to 16bit
 628:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_DataSize_8b: Set data frame format to 8bit
 629:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 630:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 631:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 632:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 654              		.loc 1 632 0
 655              		.cfi_startproc
 656              		@ args = 0, pretend = 0, frame = 0
 657              		@ frame_needed = 0, uses_anonymous_args = 0
 658              		@ link register save eliminated.
 659              	.LVL55:
 633:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 634:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 635:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 636:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear DFF bit */
 637:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 660              		.loc 1 637 0
 661 020c 0388     		ldrh	r3, [r0]
 662 020e 23F40063 		bic	r3, r3, #2048
 663 0212 1B04     		lsls	r3, r3, #16
 664 0214 1B0C     		lsrs	r3, r3, #16
 665 0216 0380     		strh	r3, [r0]	@ movhi
 638:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set new DFF bit value */
 639:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 666              		.loc 1 639 0
 667 0218 0388     		ldrh	r3, [r0]
 668 021a 9BB2     		uxth	r3, r3
 669 021c 1943     		orrs	r1, r1, r3
 670              	.LVL56:
 671 021e 0180     		strh	r1, [r0]	@ movhi
 672 0220 7047     		bx	lr
 673              		.cfi_endproc
 674              	.LFE42:
 676              		.align	1
 677              		.global	SPI_TransmitCRC
 678              		.thumb
 679              		.thumb_func
 681              	SPI_TransmitCRC:
 682              	.LFB43:
 640:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 641:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 642:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 643:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Transmit the SPIx CRC value.
 644:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 645:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 646:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 647:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 648:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 683              		.loc 1 648 0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		@ link register save eliminated.
 688              	.LVL57:
 649:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 650:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 651:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 652:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Enable the selected SPI CRC transmission */
 653:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->CR1 |= CR1_CRCNext_Set;
 689              		.loc 1 653 0
 690 0222 0388     		ldrh	r3, [r0]
 691 0224 9BB2     		uxth	r3, r3
 692 0226 43F48053 		orr	r3, r3, #4096
 693 022a 0380     		strh	r3, [r0]	@ movhi
 694 022c 7047     		bx	lr
 695              		.cfi_endproc
 696              	.LFE43:
 698              		.align	1
 699              		.global	SPI_CalculateCRC
 700              		.thumb
 701              		.thumb_func
 703              	SPI_CalculateCRC:
 704              	.LFB44:
 654:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 655:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 656:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 657:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 658:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 659:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 660:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be: ENABLE or DISABLE.
 661:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 662:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 663:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 664:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 705              		.loc 1 664 0
 706              		.cfi_startproc
 707              		@ args = 0, pretend = 0, frame = 0
 708              		@ frame_needed = 0, uses_anonymous_args = 0
 709              		@ link register save eliminated.
 710              	.LVL58:
 665:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 666:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 667:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 668:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (NewState != DISABLE)
 669:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 670:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Enable the selected SPI CRC calculation */
 671:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= CR1_CRCEN_Set;
 711              		.loc 1 671 0
 712 022e 0388     		ldrh	r3, [r0]
 668:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 713              		.loc 1 668 0
 714 0230 19B1     		cbz	r1, .L50
 715              		.loc 1 671 0
 716 0232 9BB2     		uxth	r3, r3
 717 0234 43F40053 		orr	r3, r3, #8192
 718 0238 03E0     		b	.L52
 719              	.L50:
 672:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 673:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 674:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 675:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Disable the selected SPI CRC calculation */
 676:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= CR1_CRCEN_Reset;
 720              		.loc 1 676 0
 721 023a 23F40053 		bic	r3, r3, #8192
 722 023e 1B04     		lsls	r3, r3, #16
 723 0240 1B0C     		lsrs	r3, r3, #16
 724              	.L52:
 725 0242 0380     		strh	r3, [r0]	@ movhi
 726 0244 7047     		bx	lr
 727              		.cfi_endproc
 728              	.LFE44:
 730              		.align	1
 731              		.global	SPI_GetCRC
 732              		.thumb
 733              		.thumb_func
 735              	SPI_GetCRC:
 736              	.LFB45:
 677:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 678:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 679:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 680:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 681:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 682:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 683:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 684:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 685:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Tx: Selects Tx CRC register
 686:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_CRC_Rx: Selects Rx CRC register
 687:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The selected CRC register value..
 688:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 689:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 690:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 737              		.loc 1 690 0
 738              		.cfi_startproc
 739              		@ args = 0, pretend = 0, frame = 0
 740              		@ frame_needed = 0, uses_anonymous_args = 0
 741              		@ link register save eliminated.
 742              	.LVL59:
 691:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t crcreg = 0;
 692:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 693:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 694:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 695:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 743              		.loc 1 695 0
 744 0246 0129     		cmp	r1, #1
 696:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 697:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Tx CRC register */
 698:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->TXCRCR;
 745              		.loc 1 698 0
 746 0248 14BF     		ite	ne
 747 024a 008B     		ldrhne	r0, [r0, #24]
 748              	.LVL60:
 699:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 700:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 701:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 702:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Get the Rx CRC register */
 703:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     crcreg = SPIx->RXCRCR;
 749              		.loc 1 703 0
 750 024c 808A     		ldrheq	r0, [r0, #20]
 751 024e 80B2     		uxth	r0, r0
 752              	.LVL61:
 704:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 705:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the selected CRC register */
 706:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return crcreg;
 707:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 753              		.loc 1 707 0
 754 0250 7047     		bx	lr
 755              		.cfi_endproc
 756              	.LFE45:
 758              		.align	1
 759              		.global	SPI_GetCRCPolynomial
 760              		.thumb
 761              		.thumb_func
 763              	SPI_GetCRCPolynomial:
 764              	.LFB46:
 708:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 709:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 710:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 711:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 712:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The CRC Polynomial register value.
 713:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 714:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 715:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 765              		.loc 1 715 0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 769              		@ link register save eliminated.
 770              	.LVL62:
 716:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 717:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 718:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   
 719:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the CRC polynomial register */
 720:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return SPIx->CRCPR;
 771              		.loc 1 720 0
 772 0252 008A     		ldrh	r0, [r0, #16]
 773              	.LVL63:
 721:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 774              		.loc 1 721 0
 775 0254 80B2     		uxth	r0, r0
 776 0256 7047     		bx	lr
 777              		.cfi_endproc
 778              	.LFE46:
 780              		.align	1
 781              		.global	SPI_BiDirectionalLineConfig
 782              		.thumb
 783              		.thumb_func
 785              	SPI_BiDirectionalLineConfig:
 786              	.LFB47:
 722:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 723:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 724:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Selects the data transfer direction in bi-directional mode for the specified SPI.
 725:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 726:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bi-directional mode. 
 727:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 728:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Tx: Selects Tx transmission direction
 729:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_Direction_Rx: Selects Rx receive direction
 730:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 731:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 732:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 733:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 787              		.loc 1 733 0
 788              		.cfi_startproc
 789              		@ args = 0, pretend = 0, frame = 0
 790              		@ frame_needed = 0, uses_anonymous_args = 0
 791              		@ link register save eliminated.
 792              	.LVL64:
 734:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 735:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 736:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 737:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 738:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 739:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Tx only mode */
 740:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 793              		.loc 1 740 0
 794 0258 0388     		ldrh	r3, [r0]
 737:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 795              		.loc 1 737 0
 796 025a B1F5804F 		cmp	r1, #16384
 741:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 742:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 743:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 744:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Set the Rx only mode */
 745:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 797              		.loc 1 745 0
 798 025e 15BF     		itete	ne
 799 0260 23F48043 		bicne	r3, r3, #16384
 740:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 800              		.loc 1 740 0
 801 0264 9BB2     		uxtheq	r3, r3
 802              		.loc 1 745 0
 803 0266 1B04     		lslne	r3, r3, #16
 740:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 804              		.loc 1 740 0
 805 0268 43F48043 		orreq	r3, r3, #16384
 806              		.loc 1 745 0
 807 026c 18BF     		it	ne
 808 026e 1B0C     		lsrne	r3, r3, #16
 809 0270 0380     		strh	r3, [r0]	@ movhi
 810 0272 7047     		bx	lr
 811              		.cfi_endproc
 812              	.LFE47:
 814              		.align	1
 815              		.global	SPI_I2S_GetFlagStatus
 816              		.thumb
 817              		.thumb_func
 819              	SPI_I2S_GetFlagStatus:
 820              	.LFB48:
 746:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 747:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 748:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 749:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 750:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S flag is set or not.
 751:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 752:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 753:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 754:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI/I2S flag to check. 
 755:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 756:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
 757:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
 758:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_BSY: Busy flag.
 759:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_FLAG_OVR: Overrun flag.
 760:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_MODF: Mode Fault flag.
 761:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_FLAG_CRCERR: CRC Error flag.
 762:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_UDR: Underrun Error flag.
 763:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_FLAG_CHSIDE: Channel Side flag.
 764:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
 765:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 766:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 767:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 821              		.loc 1 767 0
 822              		.cfi_startproc
 823              		@ args = 0, pretend = 0, frame = 0
 824              		@ frame_needed = 0, uses_anonymous_args = 0
 825              		@ link register save eliminated.
 826              	.LVL65:
 768:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   FlagStatus bitstatus = RESET;
 769:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 770:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 771:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 772:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S flag */
 773:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 827              		.loc 1 773 0
 828 0274 0389     		ldrh	r3, [r0, #8]
 829              	.LVL66:
 774:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 775:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is set */
 776:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 777:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 778:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 779:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 780:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_FLAG is reset */
 781:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 782:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 783:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_FLAG status */
 784:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return  bitstatus;
 830              		.loc 1 784 0
 831 0276 1942     		tst	r1, r3
 785:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 832              		.loc 1 785 0
 833 0278 14BF     		ite	ne
 834 027a 0120     		movne	r0, #1
 835              	.LVL67:
 836 027c 0020     		moveq	r0, #0
 837 027e 7047     		bx	lr
 838              		.cfi_endproc
 839              	.LFE48:
 841              		.align	1
 842              		.global	SPI_I2S_ClearFlag
 843              		.thumb
 844              		.thumb_func
 846              	SPI_I2S_ClearFlag:
 847              	.LFB49:
 786:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 787:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 788:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
 789:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 790:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 791:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
 792:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR flag.
 793:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 794:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun error) flag is cleared by software sequence: a read 
 795:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
 796:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
 797:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun error) flag is cleared by a read operation to 
 798:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     SPI_SR register (SPI_I2S_GetFlagStatus()).
 799:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) flag is cleared by software sequence: a read/write 
 800:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
 801:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
 802:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 803:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 804:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
 805:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 848              		.loc 1 805 0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 0
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 852              		@ link register save eliminated.
 853              	.LVL68:
 806:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 807:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 808:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
 809:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     
 810:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* Clear the selected SPI CRC Error (CRCERR) flag */
 811:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 854              		.loc 1 811 0
 855 0280 C943     		mvns	r1, r1
 856              	.LVL69:
 857 0282 89B2     		uxth	r1, r1
 858 0284 0181     		strh	r1, [r0, #8]	@ movhi
 859 0286 7047     		bx	lr
 860              		.cfi_endproc
 861              	.LFE49:
 863              		.align	1
 864              		.global	SPI_I2S_GetITStatus
 865              		.thumb
 866              		.thumb_func
 868              	SPI_I2S_GetITStatus:
 869              	.LFB50:
 812:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 813:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 814:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 815:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Checks whether the specified SPI/I2S interrupt has occurred or not.
 816:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 817:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 818:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 2 or 3 in I2S mode
 819:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI/I2S interrupt source to check. 
 820:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This parameter can be one of the following values:
 821:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
 822:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
 823:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_I2S_IT_OVR: Overrun interrupt.
 824:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_MODF: Mode Fault interrupt.
 825:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg SPI_IT_CRCERR: CRC Error interrupt.
 826:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     @arg I2S_IT_UDR: Underrun Error interrupt.
 827:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
 828:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 829:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 830:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 870              		.loc 1 830 0
 871              		.cfi_startproc
 872              		@ args = 0, pretend = 0, frame = 0
 873              		@ frame_needed = 0, uses_anonymous_args = 0
 874              	.LVL70:
 875 0288 10B5     		push	{r4, lr}
 876              	.LCFI9:
 877              		.cfi_def_cfa_offset 8
 878              		.cfi_offset 4, -8
 879              		.cfi_offset 14, -4
 831:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   ITStatus bitstatus = RESET;
 832:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 833:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 834:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 835:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 836:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 837:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 838:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT index */
 839:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 840:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 841:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI/I2S IT mask */
 842:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = SPI_I2S_IT >> 4;
 843:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 844:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Set the IT mask */
 845:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itmask = 0x01 << itmask;
 846:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 847:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
 848:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 880              		.loc 1 848 0
 881 028a 8488     		ldrh	r4, [r0, #4]
 849:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 850:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the status of the specified SPI/I2S interrupt */
 851:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 882              		.loc 1 851 0
 883 028c 0389     		ldrh	r3, [r0, #8]
 884 028e 0122     		movs	r2, #1
 885 0290 01F00F00 		and	r0, r1, #15
 886              	.LVL71:
 887 0294 9BB2     		uxth	r3, r3
 888 0296 02FA00F0 		lsl	r0, r2, r0
 889 029a 1840     		ands	r0, r3, r0
 848:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 890              		.loc 1 848 0
 891 029c A4B2     		uxth	r4, r4
 892              	.LVL72:
 893              		.loc 1 851 0
 894 029e 05D0     		beq	.L65
 852:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 853:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is set */
 854:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = SET;
 895              		.loc 1 854 0 discriminator 1
 896 02a0 0909     		lsrs	r1, r1, #4
 897              	.LVL73:
 898 02a2 8A40     		lsls	r2, r2, r1
 899 02a4 1442     		tst	r4, r2
 900 02a6 14BF     		ite	ne
 901 02a8 0120     		movne	r0, #1
 902 02aa 0020     		moveq	r0, #0
 903              	.L65:
 904              	.LVL74:
 855:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 856:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   else
 857:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   {
 858:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     /* SPI_I2S_IT is reset */
 859:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****     bitstatus = RESET;
 860:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   }
 861:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Return the SPI_I2S_IT status */
 862:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   return bitstatus;
 863:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** }
 905              		.loc 1 863 0
 906 02ac 10BD     		pop	{r4, pc}
 907              		.cfi_endproc
 908              	.LFE50:
 910              		.align	1
 911              		.global	SPI_I2S_ClearITPendingBit
 912              		.thumb
 913              		.thumb_func
 915              	SPI_I2S_ClearITPendingBit:
 916              	.LFB51:
 864:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 865:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** /**
 866:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
 867:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPIx: where x can be
 868:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - 1, 2 or 3 in SPI mode 
 869:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
 870:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   This function clears only CRCERR interrupt pending bit.   
 871:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @note
 872:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - OVR (OverRun Error) interrupt pending bit is cleared by software 
 873:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
 874:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
 875:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - UDR (UnderRun Error) interrupt pending bit is cleared by a read 
 876:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     operation to SPI_SR register (SPI_I2S_GetITStatus()).
 877:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *   - MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
 878:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
 879:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
 880:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   *     the SPI).
 881:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   * @retval None
 882:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   */
 883:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
 884:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** {
 917              		.loc 1 884 0
 918              		.cfi_startproc
 919              		@ args = 0, pretend = 0, frame = 0
 920              		@ frame_needed = 0, uses_anonymous_args = 0
 921              		@ link register save eliminated.
 922              	.LVL75:
 885:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   uint16_t itpos = 0;
 886:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Check the parameters */
 887:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 888:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
 889:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 890:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Get the SPI IT index */
 891:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 892:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c **** 
 893:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
 894:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 923              		.loc 1 894 0
 924 02ae 01F00F01 		and	r1, r1, #15
 925              	.LVL76:
 926 02b2 0123     		movs	r3, #1
 927 02b4 03FA01F1 		lsl	r1, r3, r1
 928 02b8 C943     		mvns	r1, r1
 929 02ba 89B2     		uxth	r1, r1
 930 02bc 0181     		strh	r1, [r0, #8]	@ movhi
 931 02be 7047     		bx	lr
 932              		.cfi_endproc
 933              	.LFE51:
 935              	.Letext0:
 936              		.file 2 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/machine/_default_types.h"
 937              		.file 3 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/sys/_stdint.h"
 938              		.file 4 "./lib/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 939              		.file 5 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
 940              		.file 6 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_spi.h"
 941              		.file 7 "./lib/CMSIS/CM3/CoreSupport/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_spi.c
     /tmp/ccw4vSST.s:19     .text:00000000 $t
     /tmp/ccw4vSST.s:24     .text:00000000 SPI_I2S_DeInit
     /tmp/ccw4vSST.s:109    .text:00000058 $d
     /tmp/ccw4vSST.s:115    .text:00000064 $t
     /tmp/ccw4vSST.s:120    .text:00000064 SPI_Init
     /tmp/ccw4vSST.s:181    .text:000000a2 I2S_Init
     /tmp/ccw4vSST.s:335    .text:00000144 SPI_StructInit
     /tmp/ccw4vSST.s:372    .text:0000015c I2S_StructInit
     /tmp/ccw4vSST.s:405    .text:0000016e SPI_Cmd
     /tmp/ccw4vSST.s:437    .text:00000186 I2S_Cmd
     /tmp/ccw4vSST.s:469    .text:0000019e SPI_I2S_ITConfig
     /tmp/ccw4vSST.s:511    .text:000001ba SPI_I2S_DMACmd
     /tmp/ccw4vSST.s:544    .text:000001cc SPI_I2S_SendData
     /tmp/ccw4vSST.s:563    .text:000001d0 SPI_I2S_ReceiveData
     /tmp/ccw4vSST.s:585    .text:000001d6 SPI_NSSInternalSoftwareConfig
     /tmp/ccw4vSST.s:620    .text:000001f4 SPI_SSOutputCmd
     /tmp/ccw4vSST.s:652    .text:0000020c SPI_DataSizeConfig
     /tmp/ccw4vSST.s:681    .text:00000222 SPI_TransmitCRC
     /tmp/ccw4vSST.s:703    .text:0000022e SPI_CalculateCRC
     /tmp/ccw4vSST.s:735    .text:00000246 SPI_GetCRC
     /tmp/ccw4vSST.s:763    .text:00000252 SPI_GetCRCPolynomial
     /tmp/ccw4vSST.s:785    .text:00000258 SPI_BiDirectionalLineConfig
     /tmp/ccw4vSST.s:819    .text:00000274 SPI_I2S_GetFlagStatus
     /tmp/ccw4vSST.s:846    .text:00000280 SPI_I2S_ClearFlag
     /tmp/ccw4vSST.s:868    .text:00000288 SPI_I2S_GetITStatus
     /tmp/ccw4vSST.s:915    .text:000002ae SPI_I2S_ClearITPendingBit
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
