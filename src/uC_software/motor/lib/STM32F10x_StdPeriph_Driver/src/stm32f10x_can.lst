   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"stm32f10x_can.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.align	1
  20              		.global	CAN_DeInit
  21              		.thumb
  22              		.thumb_func
  24              	CAN_DeInit:
  25              	.LFB29:
  26              		.file 1 "lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c"
   1:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
   2:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   3:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @file    stm32f10x_can.c
   4:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @author  MCD Application Team
   5:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @version V3.5.0
   6:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @date    11-March-2011
   7:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   This file provides all the CAN firmware functions.
   8:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
   9:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @attention
  10:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  11:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *
  18:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ******************************************************************************
  20:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  21:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  22:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Includes ------------------------------------------------------------------*/
  23:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_can.h"
  24:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #include "stm32f10x_rcc.h"
  25:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  26:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  27:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  28:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  29:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  30:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN 
  31:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief CAN driver modules
  32:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  33:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */ 
  34:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  35:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_TypesDefinitions
  36:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  37:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  38:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  39:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  40:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  41:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  42:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  43:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Defines
  44:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  45:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  46:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  47:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Master Control Register bits */
  48:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  49:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define MCR_DBF      ((uint32_t)0x00010000) /* software master reset */
  50:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  51:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Mailbox Transmit Request */
  52:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define TMIDxR_TXRQ  ((uint32_t)0x00000001) /* Transmit mailbox request */
  53:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  54:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* CAN Filter Master Register bits */
  55:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define FMR_FINIT    ((uint32_t)0x00000001) /* Filter init mode */
  56:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  57:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for INAK bit */
  58:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define INAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  59:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Time out for SLAK bit */
  60:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define SLAK_TIMEOUT        ((uint32_t)0x0000FFFF)
  61:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  62:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  63:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  64:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in TSR register */
  65:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_TSR              ((uint32_t)0x08000000) 
  66:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF1R register */
  67:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF1R             ((uint32_t)0x04000000) 
  68:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in RF0R register */
  69:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_RF0R             ((uint32_t)0x02000000) 
  70:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in MSR register */
  71:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_MSR              ((uint32_t)0x01000000) 
  72:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Flags in ESR register */
  73:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_FLAGS_ESR              ((uint32_t)0x00F00000) 
  74:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  75:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /* Mailboxes definition */
  76:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_0                   ((uint8_t)0x00)
  77:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_1                   ((uint8_t)0x01)
  78:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_TXMAILBOX_2                   ((uint8_t)0x02) 
  79:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  80:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  81:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  82:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** #define CAN_MODE_MASK              ((uint32_t) 0x00000003)
  83:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  84:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  85:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  86:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  87:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Macros
  88:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  89:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  90:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  91:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
  92:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
  93:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  94:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  95:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Variables
  96:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
  97:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
  98:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
  99:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 100:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 101:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 102:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 103:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_FunctionPrototypes
 104:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 105:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 106:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 107:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit);
 108:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 109:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 110:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @}
 111:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 112:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 113:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /** @defgroup CAN_Private_Functions
 114:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @{
 115:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 116:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 117:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 118:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Deinitializes the CAN peripheral registers to their default reset values.
 119:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to select the CAN peripheral.
 120:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 121:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 122:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DeInit(CAN_TypeDef* CANx)
 123:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  27              		.loc 1 123 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
 124:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 125:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 126:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 127:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CANx == CAN1)
  37              		.loc 1 127 0
  38 0002 0B4B     		ldr	r3, .L5
 128:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 129:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN1 reset state */
 130:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, ENABLE);
  39              		.loc 1 130 0
  40 0004 0121     		movs	r1, #1
 127:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
  41              		.loc 1 127 0
  42 0006 9842     		cmp	r0, r3
  43 0008 07D1     		bne	.L2
  44              		.loc 1 130 0
  45 000a 4FF00070 		mov	r0, #33554432
  46              	.LVL1:
  47 000e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  48              	.LVL2:
 131:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN1 from reset state */
 132:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN1, DISABLE);
  49              		.loc 1 132 0
  50 0012 0021     		movs	r1, #0
  51 0014 4FF00070 		mov	r0, #33554432
  52 0018 06E0     		b	.L3
  53              	.LVL3:
  54              	.L2:
 133:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 134:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 135:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {  
 136:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable CAN2 reset state */
 137:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, ENABLE);
  55              		.loc 1 137 0
  56 001a 4FF08060 		mov	r0, #67108864
  57              	.LVL4:
  58 001e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  59              	.LVL5:
 138:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Release CAN2 from reset state */
 139:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_CAN2, DISABLE);
  60              		.loc 1 139 0
  61 0022 0021     		movs	r1, #0
  62 0024 4FF08060 		mov	r0, #67108864
  63              	.L3:
 140:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 141:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
  64              		.loc 1 141 0
  65 0028 BDE80840 		pop	{r3, lr}
  66              	.LCFI1:
  67              		.cfi_restore 14
  68              		.cfi_restore 3
  69              		.cfi_def_cfa_offset 0
 139:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
  70              		.loc 1 139 0
  71 002c FFF7FEBF 		b	RCC_APB1PeriphResetCmd
  72              	.LVL6:
  73              	.L6:
  74              		.align	2
  75              	.L5:
  76 0030 00640040 		.word	1073767424
  77              		.cfi_endproc
  78              	.LFE29:
  80              		.align	1
  81              		.global	CAN_Init
  82              		.thumb
  83              		.thumb_func
  85              	CAN_Init:
  86              	.LFB30:
 142:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 143:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 144:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 145:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_InitStruct.
 146:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:           where x can be 1 or 2 to to select the CAN 
 147:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         peripheral.
 148:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure that
 149:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         contains the configuration information for the 
 150:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         CAN peripheral.
 151:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval Constant indicates initialization succeed which will be 
 152:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         CAN_InitStatus_Failed or CAN_InitStatus_Success.
 153:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 154:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Init(CAN_TypeDef* CANx, CAN_InitTypeDef* CAN_InitStruct)
 155:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
  87              		.loc 1 155 0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		@ link register save eliminated.
  92              	.LVL7:
 156:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t InitStatus = CAN_InitStatus_Failed;
 157:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_ack = 0x00000000;
 158:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 159:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 160:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TTCM));
 161:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_ABOM));
 162:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_AWUM));
 163:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_NART));
 164:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_RFLM));
 165:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_InitStruct->CAN_TXFP));
 166:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_MODE(CAN_InitStruct->CAN_Mode));
 167:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_SJW(CAN_InitStruct->CAN_SJW));
 168:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS1(CAN_InitStruct->CAN_BS1));
 169:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BS2(CAN_InitStruct->CAN_BS2));
 170:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_PRESCALER(CAN_InitStruct->CAN_Prescaler));
 171:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 172:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Exit from sleep mode */
 173:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= (~(uint32_t)CAN_MCR_SLEEP);
  93              		.loc 1 173 0
  94 0034 0368     		ldr	r3, [r0]
  95 0036 23F00203 		bic	r3, r3, #2
  96 003a 0360     		str	r3, [r0]
 174:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 175:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request initialisation */
 176:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR |= CAN_MCR_INRQ ;
  97              		.loc 1 176 0
  98 003c 0368     		ldr	r3, [r0]
  99 003e 43F00103 		orr	r3, r3, #1
 100 0042 0360     		str	r3, [r0]
 177:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 178:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wait the acknowledge */
 179:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while (((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 101              		.loc 1 179 0
 102 0044 4FF48033 		mov	r3, #65536
 103              	.LVL8:
 104              	.L9:
 105 0048 4268     		ldr	r2, [r0, #4]
 106 004a D207     		lsls	r2, r2, #31
 107 004c 01D4     		bmi	.L8
 108              		.loc 1 179 0 is_stmt 0 discriminator 1
 109 004e 013B     		subs	r3, r3, #1
 110              	.LVL9:
 111 0050 FAD1     		bne	.L9
 112              	.LVL10:
 113              	.L8:
 180:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 181:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wait_ack++;
 182:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 183:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 184:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check acknowledge */
 185:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & CAN_MSR_INAK) != CAN_MSR_INAK)
 114              		.loc 1 185 0 is_stmt 1
 115 0052 4368     		ldr	r3, [r0, #4]
 116 0054 13F00103 		ands	r3, r3, #1
 117 0058 55D0     		beq	.L25
 186:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 187:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     InitStatus = CAN_InitStatus_Failed;
 188:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 189:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else 
 190:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 191:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the time triggered communication mode */
 192:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TTCM == ENABLE)
 118              		.loc 1 192 0
 119 005a 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 120 005c 012B     		cmp	r3, #1
 193:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 194:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TTCM;
 121              		.loc 1 194 0
 122 005e 0368     		ldr	r3, [r0]
 123 0060 0CBF     		ite	eq
 124 0062 43F08003 		orreq	r3, r3, #128
 195:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 196:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 197:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 198:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TTCM;
 125              		.loc 1 198 0
 126 0066 23F08003 		bicne	r3, r3, #128
 127 006a 0360     		str	r3, [r0]
 199:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 200:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 201:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic bus-off management */
 202:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_ABOM == ENABLE)
 128              		.loc 1 202 0
 129 006c CB79     		ldrb	r3, [r1, #7]	@ zero_extendqisi2
 130 006e 012B     		cmp	r3, #1
 203:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 204:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_ABOM;
 131              		.loc 1 204 0
 132 0070 0368     		ldr	r3, [r0]
 133 0072 0CBF     		ite	eq
 134 0074 43F04003 		orreq	r3, r3, #64
 205:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 206:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 207:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 208:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_ABOM;
 135              		.loc 1 208 0
 136 0078 23F04003 		bicne	r3, r3, #64
 137 007c 0360     		str	r3, [r0]
 209:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 210:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 211:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the automatic wake-up mode */
 212:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_AWUM == ENABLE)
 138              		.loc 1 212 0
 139 007e 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
 140 0080 012B     		cmp	r3, #1
 213:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_AWUM;
 141              		.loc 1 214 0
 142 0082 0368     		ldr	r3, [r0]
 143 0084 0CBF     		ite	eq
 144 0086 43F02003 		orreq	r3, r3, #32
 215:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 216:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 217:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 218:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_AWUM;
 145              		.loc 1 218 0
 146 008a 23F02003 		bicne	r3, r3, #32
 147 008e 0360     		str	r3, [r0]
 219:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 221:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the no automatic retransmission */
 222:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_NART == ENABLE)
 148              		.loc 1 222 0
 149 0090 4B7A     		ldrb	r3, [r1, #9]	@ zero_extendqisi2
 150 0092 012B     		cmp	r3, #1
 223:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 224:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_NART;
 151              		.loc 1 224 0
 152 0094 0368     		ldr	r3, [r0]
 153 0096 0CBF     		ite	eq
 154 0098 43F01003 		orreq	r3, r3, #16
 225:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 226:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 227:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 228:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_NART;
 155              		.loc 1 228 0
 156 009c 23F01003 		bicne	r3, r3, #16
 157 00a0 0360     		str	r3, [r0]
 229:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 230:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 231:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the receive FIFO locked mode */
 232:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_RFLM == ENABLE)
 158              		.loc 1 232 0
 159 00a2 8B7A     		ldrb	r3, [r1, #10]	@ zero_extendqisi2
 160 00a4 012B     		cmp	r3, #1
 233:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 234:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_RFLM;
 161              		.loc 1 234 0
 162 00a6 0368     		ldr	r3, [r0]
 163 00a8 0CBF     		ite	eq
 164 00aa 43F00803 		orreq	r3, r3, #8
 235:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 236:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 237:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 238:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_RFLM;
 165              		.loc 1 238 0
 166 00ae 23F00803 		bicne	r3, r3, #8
 167 00b2 0360     		str	r3, [r0]
 239:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 240:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 241:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the transmit FIFO priority */
 242:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (CAN_InitStruct->CAN_TXFP == ENABLE)
 168              		.loc 1 242 0
 169 00b4 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
 170 00b6 012B     		cmp	r3, #1
 243:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 244:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR |= CAN_MCR_TXFP;
 171              		.loc 1 244 0
 172 00b8 0368     		ldr	r3, [r0]
 173 00ba 0CBF     		ite	eq
 174 00bc 43F00403 		orreq	r3, r3, #4
 245:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 246:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 247:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 248:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MCR &= ~(uint32_t)CAN_MCR_TXFP;
 175              		.loc 1 248 0
 176 00c0 23F00403 		bicne	r3, r3, #4
 177 00c4 0360     		str	r3, [r0]
 249:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 250:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 251:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set the bit timing register */
 252:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->BTR = (uint32_t)((uint32_t)CAN_InitStruct->CAN_Mode << 30) | \
 253:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 254:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS1 << 16) | \
 255:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_BS2 << 20) | \
 178              		.loc 1 255 0
 179 00c6 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 180 00c8 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 181 00ca 1B06     		lsls	r3, r3, #24
 182 00cc 43EA8273 		orr	r3, r3, r2, lsl #30
 183 00d0 0A79     		ldrb	r2, [r1, #4]	@ zero_extendqisi2
 184 00d2 43EA0243 		orr	r3, r3, r2, lsl #16
 185 00d6 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 186 00d8 43EA0253 		orr	r3, r3, r2, lsl #20
 187 00dc 0A88     		ldrh	r2, [r1]
 188 00de 013A     		subs	r2, r2, #1
 189 00e0 1343     		orrs	r3, r3, r2
 252:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                 ((uint32_t)CAN_InitStruct->CAN_SJW << 24) | \
 190              		.loc 1 252 0
 191 00e2 C361     		str	r3, [r0, #28]
 256:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                ((uint32_t)CAN_InitStruct->CAN_Prescaler - 1);
 257:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 258:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation */
 259:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~(uint32_t)CAN_MCR_INRQ;
 192              		.loc 1 259 0
 193 00e4 0368     		ldr	r3, [r0]
 194 00e6 23F00103 		bic	r3, r3, #1
 195 00ea 0360     		str	r3, [r0]
 196              	.LVL11:
 260:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 261:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* Wait the acknowledge */
 262:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_ack = 0;
 263:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 264:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    while (((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK) && (wait_ack != INAK_TIMEOUT))
 197              		.loc 1 264 0
 198 00ec 4FF48033 		mov	r3, #65536
 199              	.LVL12:
 200              	.L24:
 201 00f0 4268     		ldr	r2, [r0, #4]
 202 00f2 D207     		lsls	r2, r2, #31
 203 00f4 01D5     		bpl	.L23
 204              		.loc 1 264 0 is_stmt 0 discriminator 1
 205 00f6 013B     		subs	r3, r3, #1
 206              	.LVL13:
 207 00f8 FAD1     		bne	.L24
 208              	.LVL14:
 209              	.L23:
 265:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    {
 266:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      wait_ack++;
 267:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
 268:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 269:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* ...and check acknowledged */
 270:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MSR_INAK) == CAN_MSR_INAK)
 210              		.loc 1 270 0 is_stmt 1
 211 00fa 4068     		ldr	r0, [r0, #4]
 212              	.LVL15:
 187:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 213              		.loc 1 187 0
 214 00fc 00F00100 		and	r0, r0, #1
 215 0100 80F00100 		eor	r0, r0, #1
 216 0104 7047     		bx	lr
 217              	.LVL16:
 218              	.L25:
 219 0106 1846     		mov	r0, r3
 220              	.LVL17:
 271:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 272:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Failed;
 273:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 274:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 275:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 276:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       InitStatus = CAN_InitStatus_Success ;
 277:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 278:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 279:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 280:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* At this step, return the status of initialization */
 281:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return InitStatus;
 282:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 221              		.loc 1 282 0
 222 0108 7047     		bx	lr
 223              		.cfi_endproc
 224              	.LFE30:
 226              		.align	1
 227              		.global	CAN_FilterInit
 228              		.thumb
 229              		.thumb_func
 231              	CAN_FilterInit:
 232              	.LFB31:
 283:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 284:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 285:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initializes the CAN peripheral according to the specified
 286:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         parameters in the CAN_FilterInitStruct.
 287:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FilterInitStruct: pointer to a CAN_FilterInitTypeDef
 288:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               structure that contains the configuration 
 289:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                               information.
 290:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 291:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 292:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FilterInit(CAN_FilterInitTypeDef* CAN_FilterInitStruct)
 293:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 233              		.loc 1 293 0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237              	.LVL18:
 294:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t filter_number_bit_pos = 0;
 295:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 296:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_NUMBER(CAN_FilterInitStruct->CAN_FilterNumber));
 297:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_MODE(CAN_FilterInitStruct->CAN_FilterMode));
 298:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_SCALE(CAN_FilterInitStruct->CAN_FilterScale));
 299:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FILTER_FIFO(CAN_FilterInitStruct->CAN_FilterFIFOAssignment));
 300:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(CAN_FilterInitStruct->CAN_FilterActivation));
 301:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 302:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   filter_number_bit_pos = ((uint32_t)1) << CAN_FilterInitStruct->CAN_FilterNumber;
 238              		.loc 1 302 0
 239 010a 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
 240 010c 0122     		movs	r2, #1
 241 010e 02FA03F3 		lsl	r3, r2, r3
 242              	.LVL19:
 293:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t filter_number_bit_pos = 0;
 243              		.loc 1 293 0
 244 0112 70B5     		push	{r4, r5, r6, lr}
 245              	.LCFI2:
 246              		.cfi_def_cfa_offset 16
 247              		.cfi_offset 4, -16
 248              		.cfi_offset 5, -12
 249              		.cfi_offset 6, -8
 250              		.cfi_offset 14, -4
 303:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 304:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialisation mode for the filter */
 305:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 306:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 307:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Deactivation */
 308:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FA1R &= ~(uint32_t)filter_number_bit_pos;
 251              		.loc 1 308 0
 252 0114 DC43     		mvns	r4, r3
 305:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 253              		.loc 1 305 0
 254 0116 334A     		ldr	r2, .L46
 255 0118 D2F80012 		ldr	r1, [r2, #512]
 256 011c 41F00101 		orr	r1, r1, #1
 257 0120 C2F80012 		str	r1, [r2, #512]
 258              		.loc 1 308 0
 259 0124 D2F81C12 		ldr	r1, [r2, #540]
 260 0128 2140     		ands	r1, r1, r4
 261 012a C2F81C12 		str	r1, [r2, #540]
 309:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 310:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Scale */
 311:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_16bit)
 262              		.loc 1 311 0
 263 012e 017B     		ldrb	r1, [r0, #12]	@ zero_extendqisi2
 264 0130 A1B9     		cbnz	r1, .L38
 312:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 313:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 16-bit scale for the filter */
 314:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R &= ~(uint32_t)filter_number_bit_pos;
 265              		.loc 1 314 0
 266 0132 D2F80C12 		ldr	r1, [r2, #524]
 315:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 316:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* First 16-bit identifier and First 16-bit mask */
 317:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or First 16-bit identifier and Second 16-bit identifier */
 318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 319:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 267              		.loc 1 319 0
 268 0136 C688     		ldrh	r6, [r0, #6]
 314:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 269              		.loc 1 314 0
 270 0138 2140     		ands	r1, r1, r4
 271 013a C2F80C12 		str	r1, [r2, #524]
 318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 272              		.loc 1 318 0
 273 013e 817A     		ldrb	r1, [r0, #10]	@ zero_extendqisi2
 274              		.loc 1 319 0
 275 0140 4588     		ldrh	r5, [r0, #2]
 318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 276              		.loc 1 318 0
 277 0142 4831     		adds	r1, r1, #72
 278              		.loc 1 319 0
 279 0144 45EA0645 		orr	r5, r5, r6, lsl #16
 318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow) << 16) |
 280              		.loc 1 318 0
 281 0148 42F83150 		str	r5, [r2, r1, lsl #3]
 320:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 321:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 322:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Second 16-bit identifier and Second 16-bit mask */
 323:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Or Third 16-bit identifier and Fourth 16-bit identifier */
 324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 325:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 282              		.loc 1 325 0
 283 014c 0288     		ldrh	r2, [r0]
 284 014e 8188     		ldrh	r1, [r0, #4]
 324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 285              		.loc 1 324 0
 286 0150 857A     		ldrb	r5, [r0, #10]	@ zero_extendqisi2
 287              		.loc 1 325 0
 288 0152 42EA0141 		orr	r1, r2, r1, lsl #16
 324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 289              		.loc 1 324 0
 290 0156 244A     		ldr	r2, .L46+4
 291 0158 ED00     		lsls	r5, r5, #3
 292 015a 5151     		str	r1, [r2, r5]
 293              	.L38:
 326:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh);
 327:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 328:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 329:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterScale == CAN_FilterScale_32bit)
 294              		.loc 1 329 0
 295 015c 027B     		ldrb	r2, [r0, #12]	@ zero_extendqisi2
 296 015e 012A     		cmp	r2, #1
 297 0160 15D1     		bne	.L39
 330:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 331:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit scale for the filter */
 332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FS1R |= filter_number_bit_pos;
 298              		.loc 1 332 0
 299 0162 204A     		ldr	r2, .L46
 333:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 334:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR1 = 
 335:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 300              		.loc 1 335 0
 301 0164 0688     		ldrh	r6, [r0]
 332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 302              		.loc 1 332 0
 303 0166 D2F80C12 		ldr	r1, [r2, #524]
 304              		.loc 1 335 0
 305 016a 4588     		ldrh	r5, [r0, #2]
 332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit identifier or First 32-bit identifier */
 306              		.loc 1 332 0
 307 016c 1943     		orrs	r1, r1, r3
 308 016e C2F80C12 		str	r1, [r2, #524]
 334:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 309              		.loc 1 334 0
 310 0172 817A     		ldrb	r1, [r0, #10]	@ zero_extendqisi2
 311              		.loc 1 335 0
 312 0174 45EA0645 		orr	r5, r5, r6, lsl #16
 334:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdHigh) << 16) |
 313              		.loc 1 334 0
 314 0178 4831     		adds	r1, r1, #72
 315 017a 42F83150 		str	r5, [r2, r1, lsl #3]
 336:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterIdLow);
 337:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* 32-bit mask or Second 32-bit identifier */
 338:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->sFilterRegister[CAN_FilterInitStruct->CAN_FilterNumber].FR2 = 
 339:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 316              		.loc 1 339 0
 317 017e C288     		ldrh	r2, [r0, #6]
 318 0180 8188     		ldrh	r1, [r0, #4]
 338:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 319              		.loc 1 338 0
 320 0182 857A     		ldrb	r5, [r0, #10]	@ zero_extendqisi2
 321              		.loc 1 339 0
 322 0184 42EA0141 		orr	r1, r2, r1, lsl #16
 338:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     ((0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdHigh) << 16) |
 323              		.loc 1 338 0
 324 0188 174A     		ldr	r2, .L46+4
 325 018a ED00     		lsls	r5, r5, #3
 326 018c 5151     		str	r1, [r2, r5]
 327              	.L39:
 340:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****         (0x0000FFFF & (uint32_t)CAN_FilterInitStruct->CAN_FilterMaskIdLow);
 341:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 342:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 343:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter Mode */
 344:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdMask)
 328              		.loc 1 344 0
 329 018e C27A     		ldrb	r2, [r0, #11]	@ zero_extendqisi2
 330 0190 1449     		ldr	r1, .L46
 331 0192 1AB9     		cbnz	r2, .L40
 345:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 346:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Id/Mask mode for the filter*/
 347:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R &= ~(uint32_t)filter_number_bit_pos;
 332              		.loc 1 347 0
 333 0194 D1F80422 		ldr	r2, [r1, #516]
 334 0198 2240     		ands	r2, r2, r4
 335 019a 02E0     		b	.L45
 336              	.L40:
 348:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 349:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* CAN_FilterInitStruct->CAN_FilterMode == CAN_FilterMode_IdList */
 350:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 351:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /*Identifier list mode for the filter*/
 352:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FM1R |= (uint32_t)filter_number_bit_pos;
 337              		.loc 1 352 0
 338 019c D1F80422 		ldr	r2, [r1, #516]
 339 01a0 1A43     		orrs	r2, r2, r3
 340              	.L45:
 353:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 354:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 355:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter FIFO assignment */
 356:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO0)
 341              		.loc 1 356 0
 342 01a2 0589     		ldrh	r5, [r0, #8]
 352:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 343              		.loc 1 352 0
 344 01a4 C1F80422 		str	r2, [r1, #516]
 345 01a8 0E4A     		ldr	r2, .L46
 346              		.loc 1 356 0
 347 01aa 2DB9     		cbnz	r5, .L42
 357:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 358:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 0 assignation for the filter */
 359:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R &= ~(uint32_t)filter_number_bit_pos;
 348              		.loc 1 359 0
 349 01ac D1F81452 		ldr	r5, [r1, #532]
 350 01b0 2C40     		ands	r4, r4, r5
 351 01b2 C1F81442 		str	r4, [r1, #532]
 352 01b6 06E0     		b	.L43
 353              	.L42:
 360:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 361:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 362:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterFIFOAssignment == CAN_Filter_FIFO1)
 354              		.loc 1 362 0
 355 01b8 012D     		cmp	r5, #1
 363:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 364:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* FIFO 1 assignation for the filter */
 365:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FFA1R |= (uint32_t)filter_number_bit_pos;
 356              		.loc 1 365 0
 357 01ba 02BF     		ittt	eq
 358 01bc D2F81412 		ldreq	r1, [r2, #532]
 359 01c0 1943     		orreq	r1, r1, r3
 360 01c2 C2F81412 		streq	r1, [r2, #532]
 361              	.L43:
 366:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 367:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 368:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Filter activation */
 369:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FilterInitStruct->CAN_FilterActivation == ENABLE)
 362              		.loc 1 369 0
 363 01c6 417B     		ldrb	r1, [r0, #13]	@ zero_extendqisi2
 364 01c8 0129     		cmp	r1, #1
 370:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 371:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CAN1->FA1R |= filter_number_bit_pos;
 365              		.loc 1 371 0
 366 01ca 02BF     		ittt	eq
 367 01cc D2F81C12 		ldreq	r1, [r2, #540]
 368 01d0 0B43     		orreq	r3, r3, r1
 369              	.LVL20:
 370 01d2 C2F81C32 		streq	r3, [r2, #540]
 372:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 373:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 374:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave the initialisation mode for the filter */
 375:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 371              		.loc 1 375 0
 372 01d6 D2F80032 		ldr	r3, [r2, #512]
 373 01da 23F00103 		bic	r3, r3, #1
 374 01de C2F80032 		str	r3, [r2, #512]
 375 01e2 70BD     		pop	{r4, r5, r6, pc}
 376              	.L47:
 377              		.align	2
 378              	.L46:
 379 01e4 00640040 		.word	1073767424
 380 01e8 44660040 		.word	1073768004
 381              		.cfi_endproc
 382              	.LFE31:
 384              		.align	1
 385              		.global	CAN_StructInit
 386              		.thumb
 387              		.thumb_func
 389              	CAN_StructInit:
 390              	.LFB32:
 376:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 377:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 378:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 379:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Fills each CAN_InitStruct member with its default value.
 380:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_InitStruct: pointer to a CAN_InitTypeDef structure which
 381:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                         will be initialized.
 382:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 383:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 384:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_StructInit(CAN_InitTypeDef* CAN_InitStruct)
 385:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 391              		.loc 1 385 0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 0
 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395              		@ link register save eliminated.
 396              	.LVL21:
 386:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Reset CAN init structure parameters values */
 387:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 388:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the time triggered communication mode */
 389:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TTCM = DISABLE;
 397              		.loc 1 389 0
 398 01ec 0023     		movs	r3, #0
 399 01ee 8371     		strb	r3, [r0, #6]
 390:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 391:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic bus-off management */
 392:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_ABOM = DISABLE;
 400              		.loc 1 392 0
 401 01f0 C371     		strb	r3, [r0, #7]
 393:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 394:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the automatic wake-up mode */
 395:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_AWUM = DISABLE;
 402              		.loc 1 395 0
 403 01f2 0372     		strb	r3, [r0, #8]
 396:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 397:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the no automatic retransmission */
 398:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_NART = DISABLE;
 404              		.loc 1 398 0
 405 01f4 4372     		strb	r3, [r0, #9]
 399:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 400:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the receive FIFO locked mode */
 401:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_RFLM = DISABLE;
 406              		.loc 1 401 0
 407 01f6 8372     		strb	r3, [r0, #10]
 402:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 403:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the transmit FIFO priority */
 404:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_TXFP = DISABLE;
 408              		.loc 1 404 0
 409 01f8 C372     		strb	r3, [r0, #11]
 405:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 406:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Mode member */
 407:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Mode = CAN_Mode_Normal;
 410              		.loc 1 407 0
 411 01fa 8370     		strb	r3, [r0, #2]
 408:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 409:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_SJW member */
 410:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_SJW = CAN_SJW_1tq;
 412              		.loc 1 410 0
 413 01fc C370     		strb	r3, [r0, #3]
 411:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 412:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS1 member */
 413:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS1 = CAN_BS1_4tq;
 414              		.loc 1 413 0
 415 01fe 0323     		movs	r3, #3
 416 0200 0371     		strb	r3, [r0, #4]
 414:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 415:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_BS2 member */
 416:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_BS2 = CAN_BS2_3tq;
 417              		.loc 1 416 0
 418 0202 0223     		movs	r3, #2
 419 0204 4371     		strb	r3, [r0, #5]
 417:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 418:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Initialize the CAN_Prescaler member */
 419:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN_InitStruct->CAN_Prescaler = 1;
 420              		.loc 1 419 0
 421 0206 0123     		movs	r3, #1
 422 0208 0380     		strh	r3, [r0]	@ movhi
 423 020a 7047     		bx	lr
 424              		.cfi_endproc
 425              	.LFE32:
 427              		.align	1
 428              		.global	CAN_SlaveStartBank
 429              		.thumb
 430              		.thumb_func
 432              	CAN_SlaveStartBank:
 433              	.LFB33:
 420:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 421:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 422:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 423:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Select the start bank filter for slave CAN.
 424:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   This function applies only to STM32 Connectivity line devices.
 425:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_BankNumber: Select the start slave bank filter from 1..27.
 426:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 427:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 428:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_SlaveStartBank(uint8_t CAN_BankNumber) 
 429:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 434              		.loc 1 429 0
 435              		.cfi_startproc
 436              		@ args = 0, pretend = 0, frame = 0
 437              		@ frame_needed = 0, uses_anonymous_args = 0
 438              		@ link register save eliminated.
 439              	.LVL22:
 430:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 431:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_BANKNUMBER(CAN_BankNumber));
 432:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 433:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Enter Initialisation mode for the filter */
 434:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= FMR_FINIT;
 440              		.loc 1 434 0
 441 020c 0D4B     		ldr	r3, .L50
 442 020e D3F80022 		ldr	r2, [r3, #512]
 443 0212 42F00102 		orr	r2, r2, #1
 444 0216 C3F80022 		str	r2, [r3, #512]
 435:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 436:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select the start slave bank */
 437:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= (uint32_t)0xFFFFC0F1 ;
 445              		.loc 1 437 0
 446 021a D3F80022 		ldr	r2, [r3, #512]
 447 021e 22F47C52 		bic	r2, r2, #16128
 448 0222 22F00E02 		bic	r2, r2, #14
 449 0226 C3F80022 		str	r2, [r3, #512]
 438:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR |= (uint32_t)(CAN_BankNumber)<<8;
 450              		.loc 1 438 0
 451 022a D3F80022 		ldr	r2, [r3, #512]
 452 022e 42EA0020 		orr	r0, r2, r0, lsl #8
 453              	.LVL23:
 454 0232 C3F80002 		str	r0, [r3, #512]
 439:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 440:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Leave Initialisation mode for the filter */
 441:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CAN1->FMR &= ~FMR_FINIT;
 455              		.loc 1 441 0
 456 0236 D3F80022 		ldr	r2, [r3, #512]
 457 023a 22F00102 		bic	r2, r2, #1
 458 023e C3F80022 		str	r2, [r3, #512]
 459 0242 7047     		bx	lr
 460              	.L51:
 461              		.align	2
 462              	.L50:
 463 0244 00640040 		.word	1073767424
 464              		.cfi_endproc
 465              	.LFE33:
 467              		.align	1
 468              		.global	CAN_DBGFreeze
 469              		.thumb
 470              		.thumb_func
 472              	CAN_DBGFreeze:
 473              	.LFB34:
 442:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 443:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 444:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 445:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the DBG Freeze for CAN.
 446:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
 447:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN peripheral. This parameter can 
 448:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   be: ENABLE or DISABLE.
 449:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 450:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 451:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_DBGFreeze(CAN_TypeDef* CANx, FunctionalState NewState)
 452:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 474              		.loc 1 452 0
 475              		.cfi_startproc
 476              		@ args = 0, pretend = 0, frame = 0
 477              		@ frame_needed = 0, uses_anonymous_args = 0
 478              		@ link register save eliminated.
 479              	.LVL24:
 453:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 454:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 455:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 456:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 457:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 458:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 459:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable Debug Freeze  */
 460:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= MCR_DBF;
 480              		.loc 1 460 0
 481 0248 0368     		ldr	r3, [r0]
 457:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 482              		.loc 1 457 0
 483 024a 11B1     		cbz	r1, .L53
 484              		.loc 1 460 0
 485 024c 43F48033 		orr	r3, r3, #65536
 486 0250 01E0     		b	.L55
 487              	.L53:
 461:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 462:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 463:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 464:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable Debug Freeze */
 465:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= ~MCR_DBF;
 488              		.loc 1 465 0
 489 0252 23F48033 		bic	r3, r3, #65536
 490              	.L55:
 491 0256 0360     		str	r3, [r0]
 492 0258 7047     		bx	lr
 493              		.cfi_endproc
 494              	.LFE34:
 496              		.align	1
 497              		.global	CAN_TTComModeCmd
 498              		.thumb
 499              		.thumb_func
 501              	CAN_TTComModeCmd:
 502              	.LFB35:
 466:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 467:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 468:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 469:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 470:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 471:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disabes the CAN Time TriggerOperation communication mode.
 472:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 473:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState : Mode new state , can be one of @ref FunctionalState.
 474:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   when enabled, Time stamp (TIME[15:0]) value is sent in the last 
 475:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         two data bytes of the 8-byte message: TIME[7:0] in data byte 6 
 476:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         and TIME[15:8] in data byte 7 
 477:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   DLC must be programmed as 8 in order Time Stamp (2 bytes) to be 
 478:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         sent over the CAN bus.  
 479:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None
 480:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 481:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_TTComModeCmd(CAN_TypeDef* CANx, FunctionalState NewState)
 482:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 503              		.loc 1 482 0
 504              		.cfi_startproc
 505              		@ args = 0, pretend = 0, frame = 0
 506              		@ frame_needed = 0, uses_anonymous_args = 0
 507              		@ link register save eliminated.
 508              	.LVL25:
 483:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 484:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 485:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 486:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
 487:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 488:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the TTCM mode */
 489:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR |= CAN_MCR_TTCM;
 509              		.loc 1 489 0
 510 025a 0368     		ldr	r3, [r0]
 486:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 511              		.loc 1 486 0
 512 025c 99B1     		cbz	r1, .L57
 513              		.loc 1 489 0
 514 025e 43F08003 		orr	r3, r3, #128
 515 0262 0360     		str	r3, [r0]
 490:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 491:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set TGT bits */
 492:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR |= ((uint32_t)CAN_TDT0R_TGT);
 516              		.loc 1 492 0
 517 0264 D0F88431 		ldr	r3, [r0, #388]
 518 0268 43F48073 		orr	r3, r3, #256
 519 026c C0F88431 		str	r3, [r0, #388]
 493:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR |= ((uint32_t)CAN_TDT1R_TGT);
 520              		.loc 1 493 0
 521 0270 D0F89431 		ldr	r3, [r0, #404]
 522 0274 43F48073 		orr	r3, r3, #256
 523 0278 C0F89431 		str	r3, [r0, #404]
 494:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR |= ((uint32_t)CAN_TDT2R_TGT);
 524              		.loc 1 494 0
 525 027c D0F8A431 		ldr	r3, [r0, #420]
 526 0280 43F48073 		orr	r3, r3, #256
 527 0284 12E0     		b	.L59
 528              	.L57:
 495:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 496:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 497:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 498:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the TTCM mode */
 499:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(uint32_t)CAN_MCR_TTCM);
 529              		.loc 1 499 0
 530 0286 23F08003 		bic	r3, r3, #128
 531 028a 0360     		str	r3, [r0]
 500:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 501:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Reset TGT bits */
 502:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[0].TDTR &= ((uint32_t)~CAN_TDT0R_TGT);
 532              		.loc 1 502 0
 533 028c D0F88431 		ldr	r3, [r0, #388]
 534 0290 23F48073 		bic	r3, r3, #256
 535 0294 C0F88431 		str	r3, [r0, #388]
 503:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[1].TDTR &= ((uint32_t)~CAN_TDT1R_TGT);
 536              		.loc 1 503 0
 537 0298 D0F89431 		ldr	r3, [r0, #404]
 538 029c 23F48073 		bic	r3, r3, #256
 539 02a0 C0F89431 		str	r3, [r0, #404]
 504:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[2].TDTR &= ((uint32_t)~CAN_TDT2R_TGT);
 540              		.loc 1 504 0
 541 02a4 D0F8A431 		ldr	r3, [r0, #420]
 542 02a8 23F48073 		bic	r3, r3, #256
 543              	.L59:
 544 02ac C0F8A431 		str	r3, [r0, #420]
 545 02b0 7047     		bx	lr
 546              		.cfi_endproc
 547              	.LFE35:
 549              		.align	1
 550              		.global	CAN_Transmit
 551              		.thumb
 552              		.thumb_func
 554              	CAN_Transmit:
 555              	.LFB36:
 505:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 506:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 507:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 508:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Initiates the transmission of a message.
 509:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:      where x can be 1 or 2 to to select the CAN peripheral.
 510:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TxMessage: pointer to a structure which contains CAN Id, CAN
 511:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    DLC and CAN data.
 512:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The number of the mailbox that is used for transmission
 513:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    or CAN_TxStatus_NoMailBox if there is no empty mailbox.
 514:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 515:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Transmit(CAN_TypeDef* CANx, CanTxMsg* TxMessage)
 516:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 556              		.loc 1 516 0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 0
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560              	.LVL26:
 517:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t transmit_mailbox = 0;
 518:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 519:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 520:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IDTYPE(TxMessage->IDE));
 521:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_RTR(TxMessage->RTR));
 522:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_DLC(TxMessage->DLC));
 523:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 524:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Select one empty transmit mailbox */
 525:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->TSR&CAN_TSR_TME0) == CAN_TSR_TME0)
 561              		.loc 1 525 0
 562 02b2 8368     		ldr	r3, [r0, #8]
 516:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t transmit_mailbox = 0;
 563              		.loc 1 516 0
 564 02b4 F0B5     		push	{r4, r5, r6, r7, lr}
 565              	.LCFI3:
 566              		.cfi_def_cfa_offset 20
 567              		.cfi_offset 4, -20
 568              		.cfi_offset 5, -16
 569              		.cfi_offset 6, -12
 570              		.cfi_offset 7, -8
 571              		.cfi_offset 14, -4
 572              		.loc 1 525 0
 573 02b6 5C01     		lsls	r4, r3, #5
 574 02b8 07D4     		bmi	.L66
 526:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 527:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 0;
 528:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 529:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME1) == CAN_TSR_TME1)
 575              		.loc 1 529 0
 576 02ba 8368     		ldr	r3, [r0, #8]
 577 02bc 1A01     		lsls	r2, r3, #4
 578 02be 06D4     		bmi	.L67
 530:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 531:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 1;
 532:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 533:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if ((CANx->TSR&CAN_TSR_TME2) == CAN_TSR_TME2)
 579              		.loc 1 533 0
 580 02c0 8368     		ldr	r3, [r0, #8]
 581 02c2 DB00     		lsls	r3, r3, #3
 582 02c4 05D4     		bmi	.L68
 534:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 535:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = 2;
 536:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 537:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 538:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 539:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     transmit_mailbox = CAN_TxStatus_NoMailBox;
 583              		.loc 1 539 0
 584 02c6 0424     		movs	r4, #4
 585 02c8 3EE0     		b	.L69
 586              	.L66:
 527:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 587              		.loc 1 527 0
 588 02ca 0024     		movs	r4, #0
 589 02cc 02E0     		b	.L61
 590              	.L67:
 531:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 591              		.loc 1 531 0
 592 02ce 0124     		movs	r4, #1
 593 02d0 00E0     		b	.L61
 594              	.L68:
 535:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 595              		.loc 1 535 0
 596 02d2 0224     		movs	r4, #2
 597              	.L61:
 598              	.LVL27:
 599 02d4 2501     		lsls	r5, r4, #4
 600 02d6 4319     		adds	r3, r0, r5
 540:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 541:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 542:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (transmit_mailbox != CAN_TxStatus_NoMailBox)
 543:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 544:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the Id */
 545:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR &= TMIDxR_TXRQ;
 601              		.loc 1 545 0
 602 02d8 D3F88021 		ldr	r2, [r3, #384]
 603 02dc 02F00102 		and	r2, r2, #1
 604 02e0 C3F88021 		str	r2, [r3, #384]
 546:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if (TxMessage->IDE == CAN_Id_Standard)
 605              		.loc 1 546 0
 606 02e4 0E7A     		ldrb	r6, [r1, #8]	@ zero_extendqisi2
 607 02e6 4A7A     		ldrb	r2, [r1, #9]	@ zero_extendqisi2
 608 02e8 2EB9     		cbnz	r6, .L72
 547:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 548:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_STDID(TxMessage->StdId));  
 549:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->StdId << 21) | \
 609              		.loc 1 549 0
 610 02ea 0F68     		ldr	r7, [r1]
 611 02ec D3F88061 		ldr	r6, [r3, #384]
 612 02f0 42EA4752 		orr	r2, r2, r7, lsl #21
 613 02f4 06E0     		b	.L71
 614              	.L72:
 550:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 551:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 552:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 553:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 554:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       assert_param(IS_CAN_EXTID(TxMessage->ExtId));
 555:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->sTxMailBox[transmit_mailbox].TIR |= ((TxMessage->ExtId << 3) | \
 615              		.loc 1 555 0
 616 02f6 4F68     		ldr	r7, [r1, #4]
 617 02f8 D3F880E1 		ldr	lr, [r3, #384]
 618 02fc 46EAC706 		orr	r6, r6, r7, lsl #3
 619 0300 46EA0E06 		orr	r6, r6, lr
 620              	.L71:
 621 0304 3243     		orrs	r2, r2, r6
 622 0306 C3F88021 		str	r2, [r3, #384]
 556:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->IDE | \
 557:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                                   TxMessage->RTR);
 558:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 559:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 560:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the DLC */
 561:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     TxMessage->DLC &= (uint8_t)0x0000000F;
 623              		.loc 1 561 0
 624 030a 8A7A     		ldrb	r2, [r1, #10]	@ zero_extendqisi2
 562:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 563:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR |= TxMessage->DLC;
 564:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 565:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Set up the data field */
 566:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDLR = (((uint32_t)TxMessage->Data[3] << 24) | 
 625              		.loc 1 566 0
 626 030c 2844     		add	r0, r0, r5
 627              	.LVL28:
 561:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 628              		.loc 1 561 0
 629 030e 02F00F02 		and	r2, r2, #15
 630 0312 8A72     		strb	r2, [r1, #10]
 562:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDTR &= (uint32_t)0xFFFFFFF0;
 631              		.loc 1 562 0
 632 0314 D3F88421 		ldr	r2, [r3, #388]
 633 0318 22F00F02 		bic	r2, r2, #15
 634 031c C3F88421 		str	r2, [r3, #388]
 563:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 635              		.loc 1 563 0
 636 0320 D3F88421 		ldr	r2, [r3, #388]
 637 0324 8E7A     		ldrb	r6, [r1, #10]	@ zero_extendqisi2
 638 0326 3243     		orrs	r2, r2, r6
 639 0328 C3F88421 		str	r2, [r3, #388]
 567:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 568:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[1] << 8) | 
 640              		.loc 1 568 0
 641 032c D1F80B20 		ldr	r2, [r1, #11]	@ unaligned
 566:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[2] << 16) |
 642              		.loc 1 566 0
 643 0330 C0F88821 		str	r2, [r0, #392]
 569:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[0]));
 570:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TDHR = (((uint32_t)TxMessage->Data[7] << 24) | 
 571:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 572:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[5] << 8) |
 644              		.loc 1 572 0
 645 0334 D1F80F20 		ldr	r2, [r1, #15]	@ unaligned
 570:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[6] << 16) |
 646              		.loc 1 570 0
 647 0338 C0F88C21 		str	r2, [r0, #396]
 573:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                                              ((uint32_t)TxMessage->Data[4]));
 574:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request transmission */
 575:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->sTxMailBox[transmit_mailbox].TIR |= TMIDxR_TXRQ;
 648              		.loc 1 575 0
 649 033c D3F88021 		ldr	r2, [r3, #384]
 650 0340 42F00102 		orr	r2, r2, #1
 651 0344 C3F88021 		str	r2, [r3, #384]
 652              	.LVL29:
 653              	.L69:
 576:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 577:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return transmit_mailbox;
 578:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 654              		.loc 1 578 0
 655 0348 2046     		mov	r0, r4
 656 034a F0BD     		pop	{r4, r5, r6, r7, pc}
 657              		.cfi_endproc
 658              	.LFE36:
 660              		.align	1
 661              		.global	CAN_TransmitStatus
 662              		.thumb
 663              		.thumb_func
 665              	CAN_TransmitStatus:
 666              	.LFB37:
 579:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 580:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 581:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks the transmission of a message.
 582:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:            where x can be 1 or 2 to to select the 
 583:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          CAN peripheral.
 584:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  TransmitMailbox: the number of the mailbox that is used for 
 585:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                          transmission.
 586:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_TxStatus_Ok if the CAN driver transmits the message, CAN_TxStatus_Failed 
 587:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         in an other case.
 588:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 589:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_TransmitStatus(CAN_TypeDef* CANx, uint8_t TransmitMailbox)
 590:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 667              		.loc 1 590 0
 668              		.cfi_startproc
 669              		@ args = 0, pretend = 0, frame = 0
 670              		@ frame_needed = 0, uses_anonymous_args = 0
 671              		@ link register save eliminated.
 672              	.LVL30:
 591:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t state = 0;
 592:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 593:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 594:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 595:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(TransmitMailbox));
 596:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 597:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (TransmitMailbox)
 673              		.loc 1 597 0
 674 034c 0129     		cmp	r1, #1
 675 034e 08D0     		beq	.L75
 676 0350 04D3     		bcc	.L76
 677 0352 0229     		cmp	r1, #2
 678 0354 18D1     		bne	.L85
 598:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 599:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): 
 600:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0);
 601:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 602:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): 
 603:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1);
 604:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 605:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): 
 606:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state =   CANx->TSR &  (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2);
 679              		.loc 1 606 0
 680 0356 8268     		ldr	r2, [r0, #8]
 681 0358 0C4B     		ldr	r3, .L88
 682 035a 04E0     		b	.L87
 683              	.L76:
 600:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 684              		.loc 1 600 0
 685 035c 8268     		ldr	r2, [r0, #8]
 686 035e 0C4B     		ldr	r3, .L88+4
 687 0360 01E0     		b	.L87
 688              	.L75:
 603:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 689              		.loc 1 603 0
 690 0362 8268     		ldr	r2, [r0, #8]
 691 0364 0B4B     		ldr	r3, .L88+8
 692              	.L87:
 693              		.loc 1 606 0
 694 0366 1340     		ands	r3, r3, r2
 695              	.LVL31:
 607:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 608:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 609:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       state = CAN_TxStatus_Failed;
 610:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 611:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 612:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (state)
 696              		.loc 1 612 0
 697 0368 094A     		ldr	r2, .L88+4
 698 036a 9342     		cmp	r3, r2
 699 036c 0AD0     		beq	.L83
 700 036e 01D8     		bhi	.L81
 701 0370 33B9     		cbnz	r3, .L79
 702 0372 09E0     		b	.L85
 703              	.L81:
 704 0374 074A     		ldr	r2, .L88+8
 705 0376 9342     		cmp	r3, r2
 706 0378 04D0     		beq	.L83
 707 037a 044A     		ldr	r2, .L88
 708 037c 9342     		cmp	r3, r2
 709 037e 01D0     		beq	.L83
 710              	.L79:
 613:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 614:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit pending  */
 615:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (0x0): state = CAN_TxStatus_Pending;
 616:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 617:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit failed  */
 618:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP0 | CAN_TSR_TME0): state = CAN_TxStatus_Failed;
 711              		.loc 1 618 0
 712 0380 0020     		movs	r0, #0
 713              	.LVL32:
 714 0382 7047     		bx	lr
 715              	.LVL33:
 716              	.L83:
 619:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 620:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP1 | CAN_TSR_TME1): state = CAN_TxStatus_Failed;
 621:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 622:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****      case (CAN_TSR_RQCP2 | CAN_TSR_TME2): state = CAN_TxStatus_Failed;
 623:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 624:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* transmit succeeded  */
 625:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP0 | CAN_TSR_TXOK0 | CAN_TSR_TME0):state = CAN_TxStatus_Ok;
 626:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 627:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP1 | CAN_TSR_TXOK1 | CAN_TSR_TME1):state = CAN_TxStatus_Ok;
 628:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 629:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TSR_RQCP2 | CAN_TSR_TXOK2 | CAN_TSR_TME2):state = CAN_TxStatus_Ok;
 717              		.loc 1 629 0
 718 0384 0120     		movs	r0, #1
 719              	.LVL34:
 630:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 720              		.loc 1 630 0
 721 0386 7047     		bx	lr
 722              	.LVL35:
 723              	.L85:
 615:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 724              		.loc 1 615 0
 725 0388 0220     		movs	r0, #2
 726              	.LVL36:
 631:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default: state = CAN_TxStatus_Failed;
 632:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 633:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 634:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t) state;
 635:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 727              		.loc 1 635 0
 728 038a 7047     		bx	lr
 729              	.L89:
 730              		.align	2
 731              	.L88:
 732 038c 00000310 		.word	268632064
 733 0390 03000004 		.word	67108867
 734 0394 00030008 		.word	134218496
 735              		.cfi_endproc
 736              	.LFE37:
 738              		.align	1
 739              		.global	CAN_CancelTransmit
 740              		.thumb
 741              		.thumb_func
 743              	CAN_CancelTransmit:
 744              	.LFB38:
 636:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 637:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 638:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Cancels a transmit request.
 639:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral. 
 640:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  Mailbox:  Mailbox number.
 641:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 642:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 643:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_CancelTransmit(CAN_TypeDef* CANx, uint8_t Mailbox)
 644:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 745              		.loc 1 644 0
 746              		.cfi_startproc
 747              		@ args = 0, pretend = 0, frame = 0
 748              		@ frame_needed = 0, uses_anonymous_args = 0
 749              		@ link register save eliminated.
 750              	.LVL37:
 645:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 646:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 647:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_TRANSMITMAILBOX(Mailbox));
 648:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* abort transmission */
 649:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (Mailbox)
 751              		.loc 1 649 0
 752 0398 0129     		cmp	r1, #1
 753 039a 07D0     		beq	.L92
 754 039c 02D3     		bcc	.L93
 755 039e 0229     		cmp	r1, #2
 756 03a0 08D0     		beq	.L94
 757 03a2 7047     		bx	lr
 758              	.L93:
 650:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 651:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_0): CANx->TSR |= CAN_TSR_ABRQ0;
 759              		.loc 1 651 0
 760 03a4 8368     		ldr	r3, [r0, #8]
 761 03a6 43F08003 		orr	r3, r3, #128
 762 03aa 06E0     		b	.L95
 763              	.L92:
 652:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 653:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_1): CANx->TSR |= CAN_TSR_ABRQ1;
 764              		.loc 1 653 0
 765 03ac 8368     		ldr	r3, [r0, #8]
 766 03ae 43F40043 		orr	r3, r3, #32768
 767 03b2 02E0     		b	.L95
 768              	.L94:
 654:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 655:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     case (CAN_TXMAILBOX_2): CANx->TSR |= CAN_TSR_ABRQ2;
 769              		.loc 1 655 0
 770 03b4 8368     		ldr	r3, [r0, #8]
 771 03b6 43F40003 		orr	r3, r3, #8388608
 772              	.L95:
 773 03ba 8360     		str	r3, [r0, #8]
 774 03bc 7047     		bx	lr
 775              		.cfi_endproc
 776              	.LFE38:
 778              		.align	1
 779              		.global	CAN_Receive
 780              		.thumb
 781              		.thumb_func
 783              	CAN_Receive:
 784              	.LFB39:
 656:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 657:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     default:
 658:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       break;
 659:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 660:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 661:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 662:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 663:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 664:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Receives a message.
 665:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 666:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 667:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  RxMessage:  pointer to a structure receive message which contains 
 668:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                     CAN Id, CAN DLC, CAN datas and FMI number.
 669:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 670:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 671:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_Receive(CAN_TypeDef* CANx, uint8_t FIFONumber, CanRxMsg* RxMessage)
 672:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 785              		.loc 1 672 0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 0
 788              		@ frame_needed = 0, uses_anonymous_args = 0
 789              	.LVL38:
 790 03be 0B01     		lsls	r3, r1, #4
 791 03c0 30B5     		push	{r4, r5, lr}
 792              	.LCFI4:
 793              		.cfi_def_cfa_offset 12
 794              		.cfi_offset 4, -12
 795              		.cfi_offset 5, -8
 796              		.cfi_offset 14, -4
 797 03c2 C418     		adds	r4, r0, r3
 673:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 674:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 675:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 676:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Id */
 677:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->IDE = (uint8_t)0x04 & CANx->sFIFOMailBox[FIFONumber].RIR;
 798              		.loc 1 677 0
 799 03c4 D4F8B051 		ldr	r5, [r4, #432]
 800 03c8 05F00405 		and	r5, r5, #4
 801 03cc EDB2     		uxtb	r5, r5
 802 03ce 1572     		strb	r5, [r2, #8]
 678:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (RxMessage->IDE == CAN_Id_Standard)
 803              		.loc 1 678 0
 804 03d0 25B9     		cbnz	r5, .L97
 679:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 680:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->StdId = (uint32_t)0x000007FF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 21);
 805              		.loc 1 680 0
 806 03d2 D4F8B051 		ldr	r5, [r4, #432]
 807 03d6 6D0D     		lsrs	r5, r5, #21
 808 03d8 1560     		str	r5, [r2]
 809 03da 03E0     		b	.L98
 810              	.L97:
 681:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 682:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 683:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 684:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     RxMessage->ExtId = (uint32_t)0x1FFFFFFF & (CANx->sFIFOMailBox[FIFONumber].RIR >> 3);
 811              		.loc 1 684 0
 812 03dc D4F8B051 		ldr	r5, [r4, #432]
 813 03e0 ED08     		lsrs	r5, r5, #3
 814 03e2 5560     		str	r5, [r2, #4]
 815              	.L98:
 685:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 686:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 687:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->RTR = (uint8_t)0x02 & CANx->sFIFOMailBox[FIFONumber].RIR;
 816              		.loc 1 687 0
 817 03e4 D4F8B051 		ldr	r5, [r4, #432]
 688:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the DLC */
 689:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->DLC = (uint8_t)0x0F & CANx->sFIFOMailBox[FIFONumber].RDTR;
 690:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the FMI */
 691:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->FMI = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDTR >> 8);
 692:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the data field */
 693:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[0] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDLR;
 818              		.loc 1 693 0
 819 03e8 0344     		add	r3, r3, r0
 687:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the DLC */
 820              		.loc 1 687 0
 821 03ea 05F00205 		and	r5, r5, #2
 822 03ee 5572     		strb	r5, [r2, #9]
 689:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the FMI */
 823              		.loc 1 689 0
 824 03f0 D4F8B451 		ldr	r5, [r4, #436]
 825 03f4 05F00F05 		and	r5, r5, #15
 826 03f8 9572     		strb	r5, [r2, #10]
 691:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the data field */
 827              		.loc 1 691 0
 828 03fa D4F8B441 		ldr	r4, [r4, #436]
 829 03fe 240A     		lsrs	r4, r4, #8
 830 0400 D474     		strb	r4, [r2, #19]
 831              		.loc 1 693 0
 832 0402 D3F8B841 		ldr	r4, [r3, #440]
 833 0406 D472     		strb	r4, [r2, #11]
 694:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[1] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 8);
 834              		.loc 1 694 0
 835 0408 D3F8B841 		ldr	r4, [r3, #440]
 836 040c 240A     		lsrs	r4, r4, #8
 837 040e 1473     		strb	r4, [r2, #12]
 695:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[2] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 16);
 838              		.loc 1 695 0
 839 0410 D3F8B841 		ldr	r4, [r3, #440]
 840 0414 240C     		lsrs	r4, r4, #16
 841 0416 5473     		strb	r4, [r2, #13]
 696:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[3] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDLR >> 24);
 842              		.loc 1 696 0
 843 0418 D3F8B841 		ldr	r4, [r3, #440]
 844 041c 240E     		lsrs	r4, r4, #24
 845 041e 9473     		strb	r4, [r2, #14]
 697:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[4] = (uint8_t)0xFF & CANx->sFIFOMailBox[FIFONumber].RDHR;
 846              		.loc 1 697 0
 847 0420 D3F8BC41 		ldr	r4, [r3, #444]
 848 0424 D473     		strb	r4, [r2, #15]
 698:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[5] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 8);
 849              		.loc 1 698 0
 850 0426 D3F8BC41 		ldr	r4, [r3, #444]
 851 042a 240A     		lsrs	r4, r4, #8
 852 042c 1474     		strb	r4, [r2, #16]
 699:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[6] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 16);
 853              		.loc 1 699 0
 854 042e D3F8BC41 		ldr	r4, [r3, #444]
 855 0432 240C     		lsrs	r4, r4, #16
 856 0434 5474     		strb	r4, [r2, #17]
 700:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   RxMessage->Data[7] = (uint8_t)0xFF & (CANx->sFIFOMailBox[FIFONumber].RDHR >> 24);
 857              		.loc 1 700 0
 858 0436 D3F8BC31 		ldr	r3, [r3, #444]
 859 043a 1B0E     		lsrs	r3, r3, #24
 860 043c 9374     		strb	r3, [r2, #18]
 701:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release the FIFO */
 702:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 703:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 861              		.loc 1 703 0
 862 043e 21B9     		cbnz	r1, .L99
 704:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 705:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 863              		.loc 1 705 0
 864 0440 C368     		ldr	r3, [r0, #12]
 865 0442 43F02003 		orr	r3, r3, #32
 866 0446 C360     		str	r3, [r0, #12]
 867 0448 30BD     		pop	{r4, r5, pc}
 868              	.L99:
 706:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 707:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 708:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 709:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 710:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 869              		.loc 1 710 0
 870 044a 0369     		ldr	r3, [r0, #16]
 871 044c 43F02003 		orr	r3, r3, #32
 872 0450 0361     		str	r3, [r0, #16]
 873 0452 30BD     		pop	{r4, r5, pc}
 874              		.cfi_endproc
 875              	.LFE39:
 877              		.align	1
 878              		.global	CAN_FIFORelease
 879              		.thumb
 880              		.thumb_func
 882              	CAN_FIFORelease:
 883              	.LFB40:
 711:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 712:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 713:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 714:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 715:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Releases the specified FIFO.
 716:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral. 
 717:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: FIFO to release, CAN_FIFO0 or CAN_FIFO1.
 718:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
 719:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 720:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_FIFORelease(CAN_TypeDef* CANx, uint8_t FIFONumber)
 721:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 884              		.loc 1 721 0
 885              		.cfi_startproc
 886              		@ args = 0, pretend = 0, frame = 0
 887              		@ frame_needed = 0, uses_anonymous_args = 0
 888              		@ link register save eliminated.
 889              	.LVL39:
 722:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 723:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 724:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 725:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO0 */
 726:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 890              		.loc 1 726 0
 891 0454 21B9     		cbnz	r1, .L102
 727:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 728:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF0R |= CAN_RF0R_RFOM0;
 892              		.loc 1 728 0
 893 0456 C368     		ldr	r3, [r0, #12]
 894 0458 43F02003 		orr	r3, r3, #32
 895 045c C360     		str	r3, [r0, #12]
 896 045e 7047     		bx	lr
 897              	.L102:
 729:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 730:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Release FIFO1 */
 731:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* FIFONumber == CAN_FIFO1 */
 732:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 733:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->RF1R |= CAN_RF1R_RFOM1;
 898              		.loc 1 733 0
 899 0460 0369     		ldr	r3, [r0, #16]
 900 0462 43F02003 		orr	r3, r3, #32
 901 0466 0361     		str	r3, [r0, #16]
 902 0468 7047     		bx	lr
 903              		.cfi_endproc
 904              	.LFE40:
 906              		.align	1
 907              		.global	CAN_MessagePending
 908              		.thumb
 909              		.thumb_func
 911              	CAN_MessagePending:
 912              	.LFB41:
 734:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 735:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 736:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 737:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 738:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the number of pending messages.
 739:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:       where x can be 1 or 2 to to select the CAN peripheral.
 740:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  FIFONumber: Receive FIFO number, CAN_FIFO0 or CAN_FIFO1.
 741:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval NbMessage : which is the number of pending message.
 742:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 743:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_MessagePending(CAN_TypeDef* CANx, uint8_t FIFONumber)
 744:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 913              		.loc 1 744 0
 914              		.cfi_startproc
 915              		@ args = 0, pretend = 0, frame = 0
 916              		@ frame_needed = 0, uses_anonymous_args = 0
 917              		@ link register save eliminated.
 918              	.LVL40:
 745:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t message_pending=0;
 746:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 747:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 748:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_FIFO(FIFONumber));
 749:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (FIFONumber == CAN_FIFO0)
 919              		.loc 1 749 0
 920 046a 09B9     		cbnz	r1, .L105
 750:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 751:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF0R&(uint32_t)0x03);
 921              		.loc 1 751 0
 922 046c C068     		ldr	r0, [r0, #12]
 923              	.LVL41:
 924 046e 02E0     		b	.L108
 925              	.LVL42:
 926              	.L105:
 752:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 753:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if (FIFONumber == CAN_FIFO1)
 927              		.loc 1 753 0
 928 0470 0129     		cmp	r1, #1
 929 0472 03D1     		bne	.L107
 754:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 755:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = (uint8_t)(CANx->RF1R&(uint32_t)0x03);
 930              		.loc 1 755 0
 931 0474 0069     		ldr	r0, [r0, #16]
 932              	.LVL43:
 933              	.L108:
 934 0476 00F00300 		and	r0, r0, #3
 935              	.LVL44:
 936 047a 7047     		bx	lr
 937              	.LVL45:
 938              	.L107:
 756:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 757:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 758:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 759:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     message_pending = 0;
 939              		.loc 1 759 0
 940 047c 0020     		movs	r0, #0
 941              	.LVL46:
 760:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 761:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return message_pending;
 762:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 942              		.loc 1 762 0
 943 047e 7047     		bx	lr
 944              		.cfi_endproc
 945              	.LFE41:
 947              		.align	1
 948              		.global	CAN_OperatingModeRequest
 949              		.thumb
 950              		.thumb_func
 952              	CAN_OperatingModeRequest:
 953              	.LFB42:
 763:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 764:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 765:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 766:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief   Select the CAN Operation mode.
 767:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param CAN_OperatingMode : CAN Operating Mode. This parameter can be one 
 768:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                            of @ref CAN_OperatingMode_TypeDef enumeration.
 769:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status of the requested mode which can be 
 770:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Failed    CAN failed entering the specific mode 
 771:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         - CAN_ModeStatus_Success   CAN Succeed entering the specific mode 
 772:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 773:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 774:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_OperatingModeRequest(CAN_TypeDef* CANx, uint8_t CAN_OperatingMode)
 775:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 954              		.loc 1 775 0
 955              		.cfi_startproc
 956              		@ args = 0, pretend = 0, frame = 0
 957              		@ frame_needed = 0, uses_anonymous_args = 0
 958              		@ link register save eliminated.
 959              	.LVL47:
 776:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t status = CAN_ModeStatus_Failed;
 777:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 778:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Timeout for INAK or also for SLAK bits*/
 779:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t timeout = INAK_TIMEOUT; 
 780:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 781:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 782:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 783:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_OPERATING_MODE(CAN_OperatingMode));
 784:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 785:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_OperatingMode == CAN_OperatingMode_Initialization)
 960              		.loc 1 785 0
 961 0480 99B9     		cbnz	r1, .L110
 786:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 787:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request initialisation */
 788:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_SLEEP)) | CAN_MCR_INRQ);
 962              		.loc 1 788 0
 963 0482 0368     		ldr	r3, [r0]
 964 0484 23F00303 		bic	r3, r3, #3
 965 0488 43F00103 		orr	r3, r3, #1
 966 048c 0360     		str	r3, [r0]
 789:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 790:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 791:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK) && (timeout != 0))
 967              		.loc 1 791 0
 968 048e 4FF48033 		mov	r3, #65536
 969              	.LVL48:
 970              	.L112:
 971 0492 4268     		ldr	r2, [r0, #4]
 972 0494 02F00302 		and	r2, r2, #3
 973 0498 012A     		cmp	r2, #1
 974 049a 01D0     		beq	.L111
 975              		.loc 1 791 0 is_stmt 0 discriminator 1
 976 049c 013B     		subs	r3, r3, #1
 977              	.LVL49:
 978 049e F8D1     		bne	.L112
 979              	.LVL50:
 980              	.L111:
 792:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 793:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 794:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 795:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_INAK)
 981              		.loc 1 795 0 is_stmt 1
 982 04a0 4068     		ldr	r0, [r0, #4]
 983              	.LVL51:
 796:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 797:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 798:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 799:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 800:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 801:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 984              		.loc 1 801 0
 985 04a2 00F00300 		and	r0, r0, #3
 986 04a6 0128     		cmp	r0, #1
 987 04a8 28E0     		b	.L132
 988              	.LVL52:
 989              	.L110:
 802:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 803:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 804:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Normal)
 990              		.loc 1 804 0
 991 04aa 0129     		cmp	r1, #1
 992 04ac 11D1     		bne	.L114
 805:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 806:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request leave initialisation and sleep mode  and enter Normal mode */
 807:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR &= (uint32_t)(~(CAN_MCR_SLEEP|CAN_MCR_INRQ));
 993              		.loc 1 807 0
 994 04ae 0368     		ldr	r3, [r0]
 995 04b0 23F00303 		bic	r3, r3, #3
 996 04b4 0360     		str	r3, [r0]
 808:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 809:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 810:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != 0) && (timeout!=0))
 997              		.loc 1 810 0
 998 04b6 4FF48033 		mov	r3, #65536
 999              	.LVL53:
 1000              	.L116:
 1001 04ba 4268     		ldr	r2, [r0, #4]
 1002 04bc 9207     		lsls	r2, r2, #30
 1003 04be 01D0     		beq	.L115
 1004              		.loc 1 810 0 is_stmt 0 discriminator 1
 1005 04c0 013B     		subs	r3, r3, #1
 1006              	.LVL54:
 1007 04c2 FAD1     		bne	.L116
 1008              	.LVL55:
 1009              	.L115:
 811:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 812:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 813:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 814:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != 0)
 1010              		.loc 1 814 0 is_stmt 1
 1011 04c4 4368     		ldr	r3, [r0, #4]
 801:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 1012              		.loc 1 801 0
 1013 04c6 13F0030F 		tst	r3, #3
 1014 04ca 0CBF     		ite	eq
 1015 04cc 0120     		moveq	r0, #1
 1016              	.LVL56:
 1017 04ce 0020     		movne	r0, #0
 1018 04d0 7047     		bx	lr
 1019              	.LVL57:
 1020              	.L114:
 815:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 816:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 817:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 818:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 819:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 820:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 821:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 822:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 823:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else  if (CAN_OperatingMode == CAN_OperatingMode_Sleep)
 1021              		.loc 1 823 0
 1022 04d2 0229     		cmp	r1, #2
 1023 04d4 16D1     		bne	.L119
 824:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 825:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Request Sleep mode */
 826:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->MCR = (uint32_t)((CANx->MCR & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 1024              		.loc 1 826 0
 1025 04d6 0368     		ldr	r3, [r0]
 1026 04d8 23F00303 		bic	r3, r3, #3
 1027 04dc 43F00203 		orr	r3, r3, #2
 1028 04e0 0360     		str	r3, [r0]
 827:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 828:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Wait the acknowledge */
 829:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     while (((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK) && (timeout!=0))
 1029              		.loc 1 829 0
 1030 04e2 4FF48033 		mov	r3, #65536
 1031              	.LVL58:
 1032              	.L118:
 1033 04e6 4268     		ldr	r2, [r0, #4]
 1034 04e8 02F00302 		and	r2, r2, #3
 1035 04ec 022A     		cmp	r2, #2
 1036 04ee 01D0     		beq	.L117
 1037              		.loc 1 829 0 is_stmt 0 discriminator 1
 1038 04f0 013B     		subs	r3, r3, #1
 1039              	.LVL59:
 1040 04f2 F8D1     		bne	.L118
 1041              	.LVL60:
 1042              	.L117:
 830:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 831:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       timeout--;
 832:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 833:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & CAN_MODE_MASK) != CAN_MSR_SLAK)
 1043              		.loc 1 833 0 is_stmt 1
 1044 04f4 4068     		ldr	r0, [r0, #4]
 1045              	.LVL61:
 801:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 1046              		.loc 1 801 0
 1047 04f6 00F00300 		and	r0, r0, #3
 1048 04fa 0228     		cmp	r0, #2
 1049              	.L132:
 1050 04fc 14BF     		ite	ne
 1051 04fe 0020     		movne	r0, #0
 1052 0500 0120     		moveq	r0, #1
 1053 0502 7047     		bx	lr
 1054              	.LVL62:
 1055              	.L119:
 834:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 835:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Failed;
 836:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 837:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
 838:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 839:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       status = CAN_ModeStatus_Success;
 840:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 841:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 842:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
 843:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 844:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     status = CAN_ModeStatus_Failed;
 1056              		.loc 1 844 0
 1057 0504 0020     		movs	r0, #0
 1058              	.LVL63:
 845:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 846:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 847:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  (uint8_t) status;
 848:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1059              		.loc 1 848 0
 1060 0506 7047     		bx	lr
 1061              		.cfi_endproc
 1062              	.LFE42:
 1064              		.align	1
 1065              		.global	CAN_Sleep
 1066              		.thumb
 1067              		.thumb_func
 1069              	CAN_Sleep:
 1070              	.LFB43:
 849:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 850:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 851:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enters the low power mode.
 852:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 853:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status: CAN_Sleep_Ok if sleep entered, CAN_Sleep_Failed in an 
 854:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 other case.
 855:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 856:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_Sleep(CAN_TypeDef* CANx)
 857:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1071              		.loc 1 857 0
 1072              		.cfi_startproc
 1073              		@ args = 0, pretend = 0, frame = 0
 1074              		@ frame_needed = 0, uses_anonymous_args = 0
 1075              		@ link register save eliminated.
 1076              	.LVL64:
 858:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t sleepstatus = CAN_Sleep_Failed;
 859:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 860:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 861:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 862:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 863:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Request Sleep mode */
 864:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    CANx->MCR = (((CANx->MCR) & (uint32_t)(~(uint32_t)CAN_MCR_INRQ)) | CAN_MCR_SLEEP);
 1077              		.loc 1 864 0
 1078 0508 0368     		ldr	r3, [r0]
 1079 050a 23F00303 		bic	r3, r3, #3
 1080 050e 43F00203 		orr	r3, r3, #2
 1081 0512 0360     		str	r3, [r0]
 865:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    
 866:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 867:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CANx->MSR & (CAN_MSR_SLAK|CAN_MSR_INAK)) == CAN_MSR_SLAK)
 1082              		.loc 1 867 0
 1083 0514 4068     		ldr	r0, [r0, #4]
 1084              	.LVL65:
 868:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 869:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Sleep mode not entered */
 870:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     sleepstatus =  CAN_Sleep_Ok;
 871:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 872:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return sleep mode status */
 873:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    return (uint8_t)sleepstatus;
 1085              		.loc 1 873 0
 1086 0516 00F00300 		and	r0, r0, #3
 1087              	.LVL66:
 874:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1088              		.loc 1 874 0
 1089 051a 831E     		subs	r3, r0, #2
 1090 051c 5842     		rsbs	r0, r3, #0
 1091 051e 5841     		adcs	r0, r0, r3
 1092 0520 7047     		bx	lr
 1093              		.cfi_endproc
 1094              	.LFE43:
 1096              		.align	1
 1097              		.global	CAN_WakeUp
 1098              		.thumb
 1099              		.thumb_func
 1101              	CAN_WakeUp:
 1102              	.LFB44:
 875:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 876:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 877:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Wakes the CAN up.
 878:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
 879:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval status:  CAN_WakeUp_Ok if sleep mode left, CAN_WakeUp_Failed in an 
 880:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  other case.
 881:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 882:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_WakeUp(CAN_TypeDef* CANx)
 883:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1103              		.loc 1 883 0
 1104              		.cfi_startproc
 1105              		@ args = 0, pretend = 0, frame = 0
 1106              		@ frame_needed = 0, uses_anonymous_args = 0
 1107              		@ link register save eliminated.
 1108              	.LVL67:
 884:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t wait_slak = SLAK_TIMEOUT;
 885:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t wakeupstatus = CAN_WakeUp_Failed;
 886:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 887:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 888:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 889:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 890:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Wake up request */
 891:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   CANx->MCR &= ~(uint32_t)CAN_MCR_SLEEP;
 1109              		.loc 1 891 0
 1110 0522 0368     		ldr	r3, [r0]
 1111 0524 23F00203 		bic	r3, r3, #2
 1112 0528 0360     		str	r3, [r0]
 892:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     
 893:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Sleep mode status */
 894:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   while(((CANx->MSR & CAN_MSR_SLAK) == CAN_MSR_SLAK)&&(wait_slak!=0x00))
 1113              		.loc 1 894 0
 1114 052a 4FF48033 		mov	r3, #65536
 1115              	.LVL68:
 1116              	.L136:
 1117 052e 4268     		ldr	r2, [r0, #4]
 1118 0530 9207     		lsls	r2, r2, #30
 1119 0532 01D5     		bpl	.L135
 1120              		.loc 1 894 0 is_stmt 0 discriminator 1
 1121 0534 013B     		subs	r3, r3, #1
 1122              	.LVL69:
 1123 0536 FAD1     		bne	.L136
 1124              	.LVL70:
 1125              	.L135:
 895:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 896:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    wait_slak--;
 897:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 898:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CANx->MSR & CAN_MSR_SLAK) != CAN_MSR_SLAK)
 1126              		.loc 1 898 0 is_stmt 1
 1127 0538 4068     		ldr	r0, [r0, #4]
 1128              	.LVL71:
 899:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 900:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* wake up done : Sleep mode exited */
 901:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     wakeupstatus = CAN_WakeUp_Ok;
 902:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 903:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* return wakeup status */
 904:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return (uint8_t)wakeupstatus;
 1129              		.loc 1 904 0
 1130 053a 80F00200 		eor	r0, r0, #2
 1131              	.LVL72:
 905:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1132              		.loc 1 905 0
 1133 053e C0F34000 		ubfx	r0, r0, #1, #1
 1134              	.LVL73:
 1135 0542 7047     		bx	lr
 1136              		.cfi_endproc
 1137              	.LFE44:
 1139              		.align	1
 1140              		.global	CAN_GetLastErrorCode
 1141              		.thumb
 1142              		.thumb_func
 1144              	CAN_GetLastErrorCode:
 1145              	.LFB45:
 906:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 907:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 908:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 909:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx's last error code (LEC).
 910:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:          where x can be 1 or 2 to to select the CAN peripheral.  
 911:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN_ErrorCode: specifies the Error code : 
 912:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_NoErr            No Error  
 913:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_StuffErr         Stuff Error
 914:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_FormErr          Form Error
 915:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_ACKErr           Acknowledgment Error
 916:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitRecessiveErr  Bit Recessive Error
 917:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_BitDominantErr   Bit Dominant Error
 918:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_CRCErr           CRC Error
 919:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                        - CAN_ERRORCODE_SoftwareSetErr   Software Set Error  
 920:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 921:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  
 922:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLastErrorCode(CAN_TypeDef* CANx)
 923:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1146              		.loc 1 923 0
 1147              		.cfi_startproc
 1148              		@ args = 0, pretend = 0, frame = 0
 1149              		@ frame_needed = 0, uses_anonymous_args = 0
 1150              		@ link register save eliminated.
 1151              	.LVL74:
 924:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t errorcode=0;
 925:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 926:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 927:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 928:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 929:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the error code*/
 930:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   errorcode = (((uint8_t)CANx->ESR) & (uint8_t)CAN_ESR_LEC);
 1152              		.loc 1 930 0
 1153 0544 8069     		ldr	r0, [r0, #24]
 1154              	.LVL75:
 931:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 932:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the error code*/
 933:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return errorcode;
 934:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1155              		.loc 1 934 0
 1156 0546 00F07000 		and	r0, r0, #112
 1157              	.LVL76:
 1158 054a 7047     		bx	lr
 1159              		.cfi_endproc
 1160              	.LFE45:
 1162              		.align	1
 1163              		.global	CAN_GetReceiveErrorCounter
 1164              		.thumb
 1165              		.thumb_func
 1167              	CAN_GetReceiveErrorCounter:
 1168              	.LFB46:
 935:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 936:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the CANx Receive Error Counter (REC).
 937:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @note   In case of an error during reception, this counter is incremented 
 938:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         by 1 or by 8 depending on the error condition as defined by the CAN 
 939:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         standard. After every successful reception, the counter is 
 940:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         decremented by 1 or reset to 120 if its value was higher than 128. 
 941:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         When the counter value exceeds 127, the CAN controller enters the 
 942:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *         error passive state.  
 943:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx: where x can be 1 or 2 to to select the CAN peripheral.  
 944:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval CAN Receive Error Counter. 
 945:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 946:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetReceiveErrorCounter(CAN_TypeDef* CANx)
 947:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1169              		.loc 1 947 0
 1170              		.cfi_startproc
 1171              		@ args = 0, pretend = 0, frame = 0
 1172              		@ frame_needed = 0, uses_anonymous_args = 0
 1173              		@ link register save eliminated.
 1174              	.LVL77:
 948:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
 949:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 950:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 951:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 952:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 953:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the Receive Error Counter*/
 954:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_REC)>> 24);
 1175              		.loc 1 954 0
 1176 054c 8069     		ldr	r0, [r0, #24]
 1177              	.LVL78:
 955:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 956:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the Receive Error Counter*/
 957:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 958:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1178              		.loc 1 958 0
 1179 054e 000E     		lsrs	r0, r0, #24
 1180              	.LVL79:
 1181 0550 7047     		bx	lr
 1182              		.cfi_endproc
 1183              	.LFE46:
 1185              		.align	1
 1186              		.global	CAN_GetLSBTransmitErrorCounter
 1187              		.thumb
 1188              		.thumb_func
 1190              	CAN_GetLSBTransmitErrorCounter:
 1191              	.LFB47:
 959:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 960:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 961:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 962:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Returns the LSB of the 9-bit CANx Transmit Error Counter(TEC).
 963:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.  
 964:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval LSB of the 9-bit CAN Transmit Error Counter. 
 965:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
 966:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** uint8_t CAN_GetLSBTransmitErrorCounter(CAN_TypeDef* CANx)
 967:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1192              		.loc 1 967 0
 1193              		.cfi_startproc
 1194              		@ args = 0, pretend = 0, frame = 0
 1195              		@ frame_needed = 0, uses_anonymous_args = 0
 1196              		@ link register save eliminated.
 1197              	.LVL80:
 968:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint8_t counter=0;
 969:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 970:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 971:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
 972:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 973:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Get the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 974:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   counter = (uint8_t)((CANx->ESR & CAN_ESR_TEC)>> 16);
 1198              		.loc 1 974 0
 1199 0552 8069     		ldr	r0, [r0, #24]
 1200              	.LVL81:
 975:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
 976:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the LSB of the 9-bit CANx Transmit Error Counter(TEC) */
 977:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return counter;
 978:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1201              		.loc 1 978 0
 1202 0554 C0F30740 		ubfx	r0, r0, #16, #8
 1203              	.LVL82:
 1204 0558 7047     		bx	lr
 1205              		.cfi_endproc
 1206              	.LFE47:
 1208              		.align	1
 1209              		.global	CAN_ITConfig
 1210              		.thumb
 1211              		.thumb_func
 1213              	CAN_ITConfig:
 1214              	.LFB48:
 979:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 980:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 981:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
 982:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Enables or disables the specified CANx interrupts.
 983:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:   where x can be 1 or 2 to to select the CAN peripheral.
 984:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the CAN interrupt sources to be enabled or disabled.
 985:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 This parameter can be: 
 986:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_TME, 
 987:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP0, 
 988:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF0,
 989:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV0, 
 990:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FMP1, 
 991:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FF1,
 992:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_FOV1, 
 993:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EWG, 
 994:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_EPV,
 995:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_LEC, 
 996:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_ERR, 
 997:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_WKU or 
 998:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 - CAN_IT_SLK.
 999:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  NewState: new state of the CAN interrupts.
1000:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be: ENABLE or DISABLE.
1001:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1002:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1003:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ITConfig(CAN_TypeDef* CANx, uint32_t CAN_IT, FunctionalState NewState)
1004:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1215              		.loc 1 1004 0
 1216              		.cfi_startproc
 1217              		@ args = 0, pretend = 0, frame = 0
 1218              		@ frame_needed = 0, uses_anonymous_args = 0
 1219              		@ link register save eliminated.
 1220              	.LVL83:
1005:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1006:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1007:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1008:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
1009:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1010:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (NewState != DISABLE)
1011:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1012:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Enable the selected CANx interrupt */
1013:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER |= CAN_IT;
 1221              		.loc 1 1013 0
 1222 055a 4369     		ldr	r3, [r0, #20]
1010:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 1223              		.loc 1 1010 0
 1224 055c 0AB1     		cbz	r2, .L145
 1225              		.loc 1 1013 0
 1226 055e 1943     		orrs	r1, r1, r3
 1227              	.LVL84:
 1228 0560 01E0     		b	.L147
 1229              	.LVL85:
 1230              	.L145:
1014:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1015:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1016:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1017:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Disable the selected CANx interrupt */
1018:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->IER &= ~CAN_IT;
 1231              		.loc 1 1018 0
 1232 0562 23EA0101 		bic	r1, r3, r1
 1233              	.LVL86:
 1234              	.L147:
 1235 0566 4161     		str	r1, [r0, #20]
 1236 0568 7047     		bx	lr
 1237              		.cfi_endproc
 1238              	.LFE48:
 1240              		.align	1
 1241              		.global	CAN_GetFlagStatus
 1242              		.thumb
 1243              		.thumb_func
 1245              	CAN_GetFlagStatus:
 1246              	.LFB49:
1019:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1020:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
1021:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1022:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CAN flag is set or not.
1023:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1024:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to check.
1025:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1026:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EWG
1027:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_EPV 
1028:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_BOF
1029:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP0
1030:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP1
1031:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_RQCP2
1032:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP1   
1033:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF1       
1034:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV1   
1035:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FMP0   
1036:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FF0       
1037:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_FOV0   
1038:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_WKU 
1039:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_SLAK  
1040:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  - CAN_FLAG_LEC       
1041:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of CAN_FLAG (SET or RESET).
1042:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1043:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** FlagStatus CAN_GetFlagStatus(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1044:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1247              		.loc 1 1044 0
 1248              		.cfi_startproc
 1249              		@ args = 0, pretend = 0, frame = 0
 1250              		@ frame_needed = 0, uses_anonymous_args = 0
 1251              		@ link register save eliminated.
 1252              	.LVL87:
1045:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   FlagStatus bitstatus = RESET;
1046:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1047:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1048:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1049:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_GET_FLAG(CAN_FLAG));
1050:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1051:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1052:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if((CAN_FLAG & CAN_FLAGS_ESR) != (uint32_t)RESET)
 1253              		.loc 1 1052 0
 1254 056a 11F4700F 		tst	r1, #15728640
 1255 056e 01D0     		beq	.L149
1053:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1054:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1055:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->ESR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 1256              		.loc 1 1055 0
 1257 0570 8369     		ldr	r3, [r0, #24]
 1258 0572 0BE0     		b	.L154
 1259              	.L149:
1056:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1057:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1058:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
1059:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1060:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1061:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1062:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1063:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
1064:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1065:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1066:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_MSR) != (uint32_t)RESET)
 1260              		.loc 1 1066 0
 1261 0574 CB01     		lsls	r3, r1, #7
 1262 0576 01D5     		bpl	.L151
1067:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1068:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1069:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->MSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 1263              		.loc 1 1069 0
 1264 0578 4368     		ldr	r3, [r0, #4]
 1265 057a 07E0     		b	.L154
 1266              	.L151:
1070:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1071:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1072:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
1073:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1074:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1075:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1076:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1077:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
1078:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1079:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1080:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_TSR) != (uint32_t)RESET)
 1267              		.loc 1 1080 0
 1268 057c 0A01     		lsls	r2, r1, #4
 1269 057e 01D5     		bpl	.L152
1081:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1082:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1083:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->TSR & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 1270              		.loc 1 1083 0
 1271 0580 8368     		ldr	r3, [r0, #8]
 1272 0582 03E0     		b	.L154
 1273              	.L152:
1084:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1085:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1086:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
1087:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1088:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1089:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1090:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1091:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
1092:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1093:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1094:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else if((CAN_FLAG & CAN_FLAGS_RF0R) != (uint32_t)RESET)
 1274              		.loc 1 1094 0
 1275 0584 8B01     		lsls	r3, r1, #6
1095:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1096:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1097:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CANx->RF0R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 1276              		.loc 1 1097 0
 1277 0586 4CBF     		ite	mi
 1278 0588 C368     		ldrmi	r3, [r0, #12]
1098:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1099:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1100:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
1101:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1102:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1103:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1104:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1105:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
1106:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1107:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1108:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* If(CAN_FLAG & CAN_FLAGS_RF1R != (uint32_t)RESET) */
1109:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   { 
1110:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Check the status of the specified CAN flag */
1111:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((uint32_t)(CANx->RF1R & (CAN_FLAG & 0x000FFFFF)) != (uint32_t)RESET)
 1279              		.loc 1 1111 0
 1280 058a 0369     		ldrpl	r3, [r0, #16]
 1281              	.L154:
1063:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
 1282              		.loc 1 1063 0
 1283 058c C3F31303 		ubfx	r3, r3, #0, #20
 1284 0590 0B42     		tst	r3, r1
 1285 0592 14BF     		ite	ne
 1286 0594 0120     		movne	r0, #1
 1287              	.LVL88:
 1288 0596 0020     		moveq	r0, #0
 1289              	.LVL89:
1112:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1113:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is set */
1114:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = SET;
1115:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1116:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else
1117:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     { 
1118:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* CAN_FLAG is reset */
1119:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       bitstatus = RESET;
1120:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1121:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1122:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_FLAG status */
1123:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  bitstatus;
1124:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
 1290              		.loc 1 1124 0
 1291 0598 7047     		bx	lr
 1292              		.cfi_endproc
 1293              	.LFE49:
 1295              		.align	1
 1296              		.global	CAN_ClearFlag
 1297              		.thumb
 1298              		.thumb_func
 1300              	CAN_ClearFlag:
 1301              	.LFB50:
1125:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1126:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1127:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CAN's pending flags.
1128:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:     where x can be 1 or 2 to to select the CAN peripheral.
1129:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_FLAG: specifies the flag to clear.
1130:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                   This parameter can be one of the following flags: 
1131:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP0
1132:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP1
1133:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_RQCP2
1134:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF1       
1135:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV1   
1136:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FF0       
1137:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_FOV0   
1138:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_WKU   
1139:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_SLAK    
1140:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                    - CAN_FLAG_LEC       
1141:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1142:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1143:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearFlag(CAN_TypeDef* CANx, uint32_t CAN_FLAG)
1144:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1302              		.loc 1 1144 0
 1303              		.cfi_startproc
 1304              		@ args = 0, pretend = 0, frame = 0
 1305              		@ frame_needed = 0, uses_anonymous_args = 0
 1306              		@ link register save eliminated.
 1307              	.LVL90:
1145:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   uint32_t flagtmp=0;
1146:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1147:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1148:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_FLAG(CAN_FLAG));
1149:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1150:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if (CAN_FLAG == CAN_FLAG_LEC) /* ESR register */
 1308              		.loc 1 1150 0
 1309 059a 0A4B     		ldr	r3, .L161
 1310 059c 9942     		cmp	r1, r3
 1311 059e 02D1     		bne	.L156
1151:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1152:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* Clear the selected CAN flags */
1153:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     CANx->ESR = (uint32_t)RESET;
 1312              		.loc 1 1153 0
 1313 05a0 0023     		movs	r3, #0
 1314 05a2 8361     		str	r3, [r0, #24]
 1315 05a4 7047     		bx	lr
 1316              	.L156:
1154:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1155:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else /* MSR or TSR or RF0R or RF1R */
1156:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1157:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     flagtmp = CAN_FLAG & 0x000FFFFF;
1158:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1159:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     if ((CAN_FLAG & CAN_FLAGS_RF0R)!=(uint32_t)RESET)
 1317              		.loc 1 1159 0
 1318 05a6 8A01     		lsls	r2, r1, #6
1157:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 1319              		.loc 1 1157 0
 1320 05a8 C1F31303 		ubfx	r3, r1, #0, #20
 1321              	.LVL91:
 1322              		.loc 1 1159 0
 1323 05ac 01D5     		bpl	.L158
1160:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1161:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
1162:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF0R = (uint32_t)(flagtmp);
 1324              		.loc 1 1162 0
 1325 05ae C360     		str	r3, [r0, #12]
 1326 05b0 7047     		bx	lr
 1327              	.L158:
1163:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1164:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_RF1R)!=(uint32_t)RESET)
 1328              		.loc 1 1164 0
 1329 05b2 4A01     		lsls	r2, r1, #5
 1330 05b4 01D5     		bpl	.L159
1165:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1166:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Receive Flags */
1167:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->RF1R = (uint32_t)(flagtmp);
 1331              		.loc 1 1167 0
 1332 05b6 0361     		str	r3, [r0, #16]
 1333 05b8 7047     		bx	lr
 1334              	.L159:
1168:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1169:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else if ((CAN_FLAG & CAN_FLAGS_TSR)!=(uint32_t)RESET)
 1335              		.loc 1 1169 0
 1336 05ba 0A01     		lsls	r2, r1, #4
1170:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1171:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Transmit Flags */
1172:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->TSR = (uint32_t)(flagtmp);
 1337              		.loc 1 1172 0
 1338 05bc 4CBF     		ite	mi
 1339 05be 8360     		strmi	r3, [r0, #8]
1173:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1174:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     else /* If((CAN_FLAG & CAN_FLAGS_MSR)!=(uint32_t)RESET) */
1175:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1176:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       /* Operating mode Flags */
1177:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       CANx->MSR = (uint32_t)(flagtmp);
 1340              		.loc 1 1177 0
 1341 05c0 4360     		strpl	r3, [r0, #4]
 1342 05c2 7047     		bx	lr
 1343              	.L162:
 1344              		.align	2
 1345              	.L161:
 1346 05c4 7000F030 		.word	821035120
 1347              		.cfi_endproc
 1348              	.LFE50:
 1350              		.align	1
 1351              		.global	CAN_GetITStatus
 1352              		.thumb
 1353              		.thumb_func
 1355              	CAN_GetITStatus:
 1356              	.LFB51:
1178:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1179:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1180:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
1181:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1182:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1183:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the specified CANx interrupt has occurred or not.
1184:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1185:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT:  specifies the CAN interrupt source to check.
1186:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  This parameter can be one of the following flags: 
1187:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_TME               
1188:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP0              
1189:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF0               
1190:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV0              
1191:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FMP1              
1192:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FF1               
1193:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_FOV1              
1194:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_WKU  
1195:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_SLK  
1196:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EWG    
1197:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_EPV    
1198:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_BOF    
1199:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_LEC    
1200:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                 -  CAN_IT_ERR 
1201:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The current state of CAN_IT (SET or RESET).
1202:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1203:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** ITStatus CAN_GetITStatus(CAN_TypeDef* CANx, uint32_t CAN_IT)
1204:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
 1357              		.loc 1 1204 0
 1358              		.cfi_startproc
 1359              		@ args = 0, pretend = 0, frame = 0
 1360              		@ frame_needed = 0, uses_anonymous_args = 0
 1361              		@ link register save eliminated.
 1362              	.LVL92:
1205:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus itstatus = RESET;
1206:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1207:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1208:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_IT(CAN_IT));
1209:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1210:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* check the enable interrupt bit */
1211:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  if((CANx->IER & CAN_IT) != RESET)
 1363              		.loc 1 1211 0
 1364 05c8 4369     		ldr	r3, [r0, #20]
 1365 05ca 0B40     		ands	r3, r3, r1
 1366 05cc 5CD0     		beq	.L182
1212:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****  {
1213:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is enabled, .... */
1214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     switch (CAN_IT)
 1367              		.loc 1 1214 0
 1368 05ce 4029     		cmp	r1, #64
 1369 05d0 42D0     		beq	.L165
 1370 05d2 10D8     		bhi	.L166
 1371 05d4 0429     		cmp	r1, #4
 1372 05d6 33D0     		beq	.L167
 1373 05d8 05D8     		bhi	.L168
 1374 05da 0129     		cmp	r1, #1
 1375 05dc 27D0     		beq	.L169
 1376 05de 0229     		cmp	r1, #2
 1377 05e0 54D1     		bne	.L183
1215:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
1216:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1217:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_TSR_RQCPx bits */
1218:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->TSR, CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2);  
1219:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1220:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP0:
1221:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FMP0 bit */
1222:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FMP0);  
 1378              		.loc 1 1222 0
 1379 05e2 C068     		ldr	r0, [r0, #12]
 1380              	.LVL93:
 1381 05e4 2FE0     		b	.L185
 1382              	.LVL94:
 1383              	.L168:
1214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 1384              		.loc 1 1214 0
 1385 05e6 1029     		cmp	r1, #16
 1386 05e8 2CD0     		beq	.L171
 1387 05ea 2029     		cmp	r1, #32
 1388 05ec 30D0     		beq	.L172
 1389 05ee 0829     		cmp	r1, #8
 1390 05f0 4CD1     		bne	.L183
1223:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1224:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1225:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FULL0 bit */
1226:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FULL0);  
1227:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1228:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1229:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF0R_FOVR0 bit */
1230:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF0R, CAN_RF0R_FOVR0);  
 1391              		.loc 1 1230 0
 1392 05f2 C068     		ldr	r0, [r0, #12]
 1393              	.LVL95:
 1394 05f4 35E0     		b	.L187
 1395              	.LVL96:
 1396              	.L166:
1214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 1397              		.loc 1 1214 0
 1398 05f6 B1F5006F 		cmp	r1, #2048
 1399 05fa 3BD0     		beq	.L174
 1400 05fc 0CD8     		bhi	.L175
 1401 05fe B1F5007F 		cmp	r1, #512
 1402 0602 31D0     		beq	.L176
 1403 0604 B1F5806F 		cmp	r1, #1024
 1404 0608 32D0     		beq	.L177
 1405 060a B1F5807F 		cmp	r1, #256
 1406 060e 3DD1     		bne	.L183
1231:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1232:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FMP1:
1233:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FMP1 bit */
1234:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FMP1);  
1235:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1236:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1237:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FULL1 bit */
1238:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FULL1);  
1239:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1240:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1241:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_RF1R_FOVR1 bit */
1242:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->RF1R, CAN_RF1R_FOVR1);  
1243:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1244:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1245:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_WKUI bit */
1246:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_WKUI);  
1247:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1248:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1249:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_SLAKI bit */
1250:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->MSR, CAN_MSR_SLAKI);  
1251:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1252:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1253:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EWGF bit */
1254:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EWGF);  
 1407              		.loc 1 1254 0
 1408 0610 8069     		ldr	r0, [r0, #24]
 1409              	.LVL97:
 1410              	.LBB30:
 1411              	.LBB31:
1255:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1256:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1257:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_EPVF bit */
1258:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_EPVF);  
1259:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1260:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1261:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_BOFF bit */
1262:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_BOFF);  
1263:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1264:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1265:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_ESR_LEC bit */
1266:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	             itstatus = CheckITStatus(CANx->ESR, CAN_ESR_LEC);  
1267:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1268:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1269:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* Check CAN_MSR_ERRI bit */ 
1270:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                itstatus = CheckITStatus(CANx->MSR, CAN_MSR_ERRI); 
1271:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1272:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1273:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                /* in case of error, return RESET */
1274:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               itstatus = RESET;
1275:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               break;
1276:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     }
1277:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1278:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1279:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1280:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    /* in case the Interrupt is not enabled, return RESET */
1281:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     itstatus  = RESET;
1282:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1283:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1284:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Return the CAN_IT status */
1285:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   return  itstatus;
1286:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
1287:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1288:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1289:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Clears the CANx's interrupt pending bits.
1290:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CANx:    where x can be 1 or 2 to to select the CAN peripheral.
1291:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_IT: specifies the interrupt pending bit to clear.
1292:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_TME                     
1293:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF0               
1294:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV0                     
1295:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FF1               
1296:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_FOV1              
1297:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_WKU  
1298:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_SLK  
1299:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EWG    
1300:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_EPV    
1301:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_BOF    
1302:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_LEC    
1303:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   *                  -  CAN_IT_ERR 
1304:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval None.
1305:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1306:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** void CAN_ClearITPendingBit(CAN_TypeDef* CANx, uint32_t CAN_IT)
1307:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
1308:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
1309:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_ALL_PERIPH(CANx));
1310:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   assert_param(IS_CAN_CLEAR_IT(CAN_IT));
1311:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1312:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   switch (CAN_IT)
1313:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1314:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_TME:
1315:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_TSR_RQCPx (rc_w1)*/
1316:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->TSR = CAN_TSR_RQCP0|CAN_TSR_RQCP1|CAN_TSR_RQCP2;  
1317:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1318:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
1319:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FULL0 (rc_w1)*/
1320:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FULL0; 
1321:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1322:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV0:
1323:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF0R_FOVR0 (rc_w1)*/
1324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF0R = CAN_RF0R_FOVR0; 
1325:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1326:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
1327:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FULL1 (rc_w1)*/
1328:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FULL1;  
1329:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1330:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FOV1:
1331:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_RF1R_FOVR1 (rc_w1)*/
1332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->RF1R = CAN_RF1R_FOVR1; 
1333:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1334:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
1335:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_WKUI (rc_w1)*/
1336:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_WKUI;  
1337:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1338:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_SLK:
1339:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_SLAKI (rc_w1)*/ 
1340:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_SLAKI;   
1341:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1342:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EWG:
1343:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1344:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI;
1345:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1346:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/ 
1347:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1348:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_EPV:
1349:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1350:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1351:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1352:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1353:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1354:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_BOF:
1355:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */ 
1356:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1357:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Note : the corresponding Flag is cleared by hardware depending 
1358:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                         of the CAN Bus status*/
1359:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1360:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_LEC:
1361:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*  Clear LEC bits */
1362:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1363:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1364:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1365:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1366:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_ERR:
1367:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /*Clear LEC bits */
1368:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->ESR = RESET; 
1369:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
1370:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      CANx->MSR = CAN_MSR_ERRI; 
1371:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
1372:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****                   of the CAN Bus status*/
1373:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1374:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       default :
1375:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
1376:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****    }
1377:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** }
1378:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
1379:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** /**
1380:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @brief  Checks whether the CAN interrupt has occurred or not.
1381:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  CAN_Reg: specifies the CAN interrupt register to check.
1382:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @param  It_Bit:  specifies the interrupt source bit to check.
1383:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   * @retval The new state of the CAN Interrupt (SET or RESET).
1384:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   */
1385:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** static ITStatus CheckITStatus(uint32_t CAN_Reg, uint32_t It_Bit)
1386:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** {
1387:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   ITStatus pendingbitstatus = RESET;
1388:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   
1389:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   if ((CAN_Reg & It_Bit) != (uint32_t)RESET)
1390:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1391:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is set */
1392:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = SET;
1393:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
1394:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   else
1395:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
1396:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     /* CAN_IT is reset */
1397:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     pendingbitstatus = RESET;
 1412              		.loc 1 1397 0
 1413 0612 00F00100 		and	r0, r0, #1
 1414              	.LVL98:
 1415 0616 7047     		bx	lr
 1416              	.LVL99:
 1417              	.L175:
 1418              	.LBE31:
 1419              	.LBE30:
1214:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****     {
 1420              		.loc 1 1214 0
 1421 0618 B1F5803F 		cmp	r1, #65536
 1422 061c 1ED0     		beq	.L179
 1423 061e B1F5003F 		cmp	r1, #131072
 1424 0622 1DD0     		beq	.L180
 1425 0624 B1F5004F 		cmp	r1, #32768
 1426 0628 30D1     		bne	.L183
1270:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1427              		.loc 1 1270 0
 1428 062a 4068     		ldr	r0, [r0, #4]
 1429              	.LVL100:
 1430 062c 29E0     		b	.L184
 1431              	.LVL101:
 1432              	.L169:
1218:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1433              		.loc 1 1218 0
 1434 062e 8068     		ldr	r0, [r0, #8]
 1435              	.LVL102:
 1436              	.LBB37:
 1437              	.LBB38:
1392:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1438              		.loc 1 1392 0
 1439 0630 00F00130 		and	r0, r0, #16843009
 1440              	.LVL103:
 1441 0634 20F08070 		bic	r0, r0, #16777216
 1442 0638 0030     		adds	r0, r0, #0
 1443 063a 18BF     		it	ne
 1444 063c 0120     		movne	r0, #1
 1445 063e 7047     		bx	lr
 1446              	.LVL104:
 1447              	.L167:
 1448              	.LBE38:
 1449              	.LBE37:
1226:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1450              		.loc 1 1226 0
 1451 0640 C068     		ldr	r0, [r0, #12]
 1452              	.LVL105:
 1453 0642 06E0     		b	.L186
 1454              	.LVL106:
 1455              	.L171:
1234:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1456              		.loc 1 1234 0
 1457 0644 0069     		ldr	r0, [r0, #16]
 1458              	.LVL107:
 1459              	.L185:
 1460              	.LBB39:
 1461              	.LBB32:
 1462              		.loc 1 1397 0
 1463 0646 10F00300 		ands	r0, r0, #3
 1464              	.LVL108:
 1465 064a 18BF     		it	ne
 1466 064c 0120     		movne	r0, #1
 1467 064e 7047     		bx	lr
 1468              	.LVL109:
 1469              	.L172:
 1470              	.LBE32:
 1471              	.LBE39:
1238:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1472              		.loc 1 1238 0
 1473 0650 0069     		ldr	r0, [r0, #16]
 1474              	.LVL110:
 1475              	.L186:
 1476              	.LBB40:
 1477              	.LBB33:
 1478              		.loc 1 1397 0
 1479 0652 C0F3C000 		ubfx	r0, r0, #3, #1
 1480              	.LVL111:
 1481 0656 7047     		bx	lr
 1482              	.LVL112:
 1483              	.L165:
 1484              	.LBE33:
 1485              	.LBE40:
1242:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1486              		.loc 1 1242 0
 1487 0658 0069     		ldr	r0, [r0, #16]
 1488              	.LVL113:
 1489 065a 02E0     		b	.L187
 1490              	.LVL114:
 1491              	.L179:
1246:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1492              		.loc 1 1246 0
 1493 065c 4068     		ldr	r0, [r0, #4]
 1494              	.LVL115:
 1495 065e F8E7     		b	.L186
 1496              	.LVL116:
 1497              	.L180:
1250:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1498              		.loc 1 1250 0
 1499 0660 4068     		ldr	r0, [r0, #4]
 1500              	.LVL117:
 1501              	.L187:
 1502              	.LBB41:
 1503              	.LBB34:
 1504              		.loc 1 1397 0
 1505 0662 C0F30010 		ubfx	r0, r0, #4, #1
 1506              	.LVL118:
 1507 0666 7047     		bx	lr
 1508              	.LVL119:
 1509              	.L176:
 1510              	.LBE34:
 1511              	.LBE41:
1258:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1512              		.loc 1 1258 0
 1513 0668 8069     		ldr	r0, [r0, #24]
 1514              	.LVL120:
 1515              	.LBB42:
 1516              	.LBB35:
 1517              		.loc 1 1397 0
 1518 066a C0F34000 		ubfx	r0, r0, #1, #1
 1519              	.LVL121:
 1520 066e 7047     		bx	lr
 1521              	.LVL122:
 1522              	.L177:
 1523              	.LBE35:
 1524              	.LBE42:
1262:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1525              		.loc 1 1262 0
 1526 0670 8069     		ldr	r0, [r0, #24]
 1527              	.LVL123:
 1528 0672 06E0     		b	.L184
 1529              	.LVL124:
 1530              	.L174:
1266:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1531              		.loc 1 1266 0
 1532 0674 8369     		ldr	r3, [r0, #24]
 1533              	.LVL125:
 1534              	.LBB43:
 1535              	.LBB36:
 1536              		.loc 1 1397 0
 1537 0676 13F0700F 		tst	r3, #112
 1538 067a 14BF     		ite	ne
 1539 067c 0120     		movne	r0, #1
 1540              	.LVL126:
 1541 067e 0020     		moveq	r0, #0
 1542 0680 7047     		bx	lr
 1543              	.LVL127:
 1544              	.L184:
 1545 0682 C0F38000 		ubfx	r0, r0, #2, #1
 1546              	.LVL128:
 1547 0686 7047     		bx	lr
 1548              	.LVL129:
 1549              	.L182:
 1550              	.LBE36:
 1551              	.LBE43:
1281:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   }
 1552              		.loc 1 1281 0
 1553 0688 1846     		mov	r0, r3
 1554              	.LVL130:
 1555 068a 7047     		bx	lr
 1556              	.LVL131:
 1557              	.L183:
1274:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               break;
 1558              		.loc 1 1274 0
 1559 068c 0020     		movs	r0, #0
 1560              	.LVL132:
1286:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 
 1561              		.loc 1 1286 0
 1562 068e 7047     		bx	lr
 1563              		.cfi_endproc
 1564              	.LFE51:
 1566              		.align	1
 1567              		.global	CAN_ClearITPendingBit
 1568              		.thumb
 1569              		.thumb_func
 1571              	CAN_ClearITPendingBit:
 1572              	.LFB52:
1307:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   /* Check the parameters */
 1573              		.loc 1 1307 0
 1574              		.cfi_startproc
 1575              		@ args = 0, pretend = 0, frame = 0
 1576              		@ frame_needed = 0, uses_anonymous_args = 0
 1577              		@ link register save eliminated.
 1578              	.LVL133:
1312:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****   {
 1579              		.loc 1 1312 0
 1580 0690 B1F5807F 		cmp	r1, #256
 1581 0694 35D0     		beq	.L205
 1582 0696 0CD8     		bhi	.L191
 1583 0698 0829     		cmp	r1, #8
 1584 069a 24D0     		beq	.L192
 1585 069c 04D8     		bhi	.L193
 1586 069e 0129     		cmp	r1, #1
 1587 06a0 1CD0     		beq	.L194
 1588 06a2 0429     		cmp	r1, #4
 1589 06a4 1DD0     		beq	.L195
 1590 06a6 7047     		bx	lr
 1591              	.L193:
 1592 06a8 2029     		cmp	r1, #32
 1593 06aa 1FD0     		beq	.L196
 1594 06ac 4029     		cmp	r1, #64
 1595 06ae 1FD0     		beq	.L197
 1596 06b0 7047     		bx	lr
 1597              	.L191:
 1598 06b2 B1F5006F 		cmp	r1, #2048
 1599 06b6 22D0     		beq	.L204
 1600 06b8 06D8     		bhi	.L199
 1601 06ba B1F5007F 		cmp	r1, #512
 1602 06be 20D0     		beq	.L205
 1603 06c0 B1F5806F 		cmp	r1, #1024
 1604 06c4 1DD0     		beq	.L205
 1605 06c6 7047     		bx	lr
 1606              	.L199:
 1607 06c8 B1F5803F 		cmp	r1, #65536
 1608 06cc 13D0     		beq	.L202
 1609 06ce B1F5003F 		cmp	r1, #131072
 1610 06d2 12D0     		beq	.L203
 1611 06d4 B1F5004F 		cmp	r1, #32768
 1612 06d8 15D1     		bne	.L188
 1613 06da 10E0     		b	.L204
 1614              	.L194:
1316:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1615              		.loc 1 1316 0
 1616 06dc 0A4B     		ldr	r3, .L209
 1617 06de 8360     		str	r3, [r0, #8]
1317:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF0:
 1618              		.loc 1 1317 0
 1619 06e0 7047     		bx	lr
 1620              	.L195:
1320:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1621              		.loc 1 1320 0
 1622 06e2 0823     		movs	r3, #8
 1623 06e4 00E0     		b	.L207
 1624              	.L192:
1324:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1625              		.loc 1 1324 0
 1626 06e6 1023     		movs	r3, #16
 1627              	.L207:
 1628 06e8 C360     		str	r3, [r0, #12]
1325:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_FF1:
 1629              		.loc 1 1325 0
 1630 06ea 7047     		bx	lr
 1631              	.L196:
1328:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1632              		.loc 1 1328 0
 1633 06ec 0823     		movs	r3, #8
 1634 06ee 00E0     		b	.L208
 1635              	.L197:
1332:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1636              		.loc 1 1332 0
 1637 06f0 1023     		movs	r3, #16
 1638              	.L208:
 1639 06f2 0361     		str	r3, [r0, #16]
1333:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****       case CAN_IT_WKU:
 1640              		.loc 1 1333 0
 1641 06f4 7047     		bx	lr
 1642              	.L202:
1336:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1643              		.loc 1 1336 0
 1644 06f6 0823     		movs	r3, #8
 1645 06f8 04E0     		b	.L206
 1646              	.L203:
1340:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      break;
 1647              		.loc 1 1340 0
 1648 06fa 1023     		movs	r3, #16
 1649 06fc 02E0     		b	.L206
 1650              	.L204:
1368:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c ****               /* Clear CAN_MSR_ERRI (rc_w1) */
 1651              		.loc 1 1368 0
 1652 06fe 0023     		movs	r3, #0
 1653 0700 8361     		str	r3, [r0, #24]
 1654              	.L205:
1370:lib/STM32F10x_StdPeriph_Driver/src/stm32f10x_can.c **** 	      /* Note : BOFF, EPVF and EWGF Flags are cleared by hardware depending 
 1655              		.loc 1 1370 0
 1656 0702 0423     		movs	r3, #4
 1657              	.L206:
 1658 0704 4360     		str	r3, [r0, #4]
 1659              	.L188:
 1660 0706 7047     		bx	lr
 1661              	.L210:
 1662              		.align	2
 1663              	.L209:
 1664 0708 01010100 		.word	65793
 1665              		.cfi_endproc
 1666              	.LFE52:
 1668              	.Letext0:
 1669              		.file 2 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/machine/_default_types.h"
 1670              		.file 3 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/sys/_stdint.h"
 1671              		.file 4 "./lib/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 1672              		.file 5 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_can.h"
 1673              		.file 6 "./lib/CMSIS/CM3/CoreSupport/core_cm3.h"
 1674              		.file 7 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_can.c
     /tmp/ccgnPuRF.s:19     .text:00000000 $t
     /tmp/ccgnPuRF.s:24     .text:00000000 CAN_DeInit
     /tmp/ccgnPuRF.s:76     .text:00000030 $d
     /tmp/ccgnPuRF.s:80     .text:00000034 $t
     /tmp/ccgnPuRF.s:85     .text:00000034 CAN_Init
     /tmp/ccgnPuRF.s:231    .text:0000010a CAN_FilterInit
     /tmp/ccgnPuRF.s:379    .text:000001e4 $d
     /tmp/ccgnPuRF.s:384    .text:000001ec $t
     /tmp/ccgnPuRF.s:389    .text:000001ec CAN_StructInit
     /tmp/ccgnPuRF.s:432    .text:0000020c CAN_SlaveStartBank
     /tmp/ccgnPuRF.s:463    .text:00000244 $d
     /tmp/ccgnPuRF.s:467    .text:00000248 $t
     /tmp/ccgnPuRF.s:472    .text:00000248 CAN_DBGFreeze
     /tmp/ccgnPuRF.s:501    .text:0000025a CAN_TTComModeCmd
     /tmp/ccgnPuRF.s:554    .text:000002b2 CAN_Transmit
     /tmp/ccgnPuRF.s:665    .text:0000034c CAN_TransmitStatus
     /tmp/ccgnPuRF.s:732    .text:0000038c $d
     /tmp/ccgnPuRF.s:738    .text:00000398 $t
     /tmp/ccgnPuRF.s:743    .text:00000398 CAN_CancelTransmit
     /tmp/ccgnPuRF.s:783    .text:000003be CAN_Receive
     /tmp/ccgnPuRF.s:882    .text:00000454 CAN_FIFORelease
     /tmp/ccgnPuRF.s:911    .text:0000046a CAN_MessagePending
     /tmp/ccgnPuRF.s:952    .text:00000480 CAN_OperatingModeRequest
     /tmp/ccgnPuRF.s:1069   .text:00000508 CAN_Sleep
     /tmp/ccgnPuRF.s:1101   .text:00000522 CAN_WakeUp
     /tmp/ccgnPuRF.s:1144   .text:00000544 CAN_GetLastErrorCode
     /tmp/ccgnPuRF.s:1167   .text:0000054c CAN_GetReceiveErrorCounter
     /tmp/ccgnPuRF.s:1190   .text:00000552 CAN_GetLSBTransmitErrorCounter
     /tmp/ccgnPuRF.s:1213   .text:0000055a CAN_ITConfig
     /tmp/ccgnPuRF.s:1245   .text:0000056a CAN_GetFlagStatus
     /tmp/ccgnPuRF.s:1300   .text:0000059a CAN_ClearFlag
     /tmp/ccgnPuRF.s:1346   .text:000005c4 $d
     /tmp/ccgnPuRF.s:1350   .text:000005c8 $t
     /tmp/ccgnPuRF.s:1355   .text:000005c8 CAN_GetITStatus
     /tmp/ccgnPuRF.s:1571   .text:00000690 CAN_ClearITPendingBit
     /tmp/ccgnPuRF.s:1664   .text:00000708 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
