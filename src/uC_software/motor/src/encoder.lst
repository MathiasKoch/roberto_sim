   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"encoder.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.align	1
  20              		.global	I2C1_Init
  21              		.thumb
  22              		.thumb_func
  24              	I2C1_Init:
  25              	.LFB29:
  26              		.file 1 "src/encoder.c"
   1:src/encoder.c **** 
   2:src/encoder.c **** #include <stm32f10x.h>
   3:src/encoder.c **** #include "encoder.h"
   4:src/encoder.c **** 
   5:src/encoder.c **** 
   6:src/encoder.c **** void I2C1_Init(void){
  27              		.loc 1 6 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 24
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 10B5     		push	{r4, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 4, -8
  35              		.cfi_offset 14, -4
   7:src/encoder.c ****     GPIO_InitTypeDef  GPIO_InitStructure;
   8:src/encoder.c ****     I2C_InitTypeDef  I2C_InitStructure;
   9:src/encoder.c **** 
  10:src/encoder.c ****     /* I2C1 clock enable */
  11:src/encoder.c ****     RCC_APB1PeriphClockCmd(RCC_APB1Periph_I2C1, ENABLE);
  36              		.loc 1 11 0
  37 0002 0121     		movs	r1, #1
   6:src/encoder.c ****     GPIO_InitTypeDef  GPIO_InitStructure;
  38              		.loc 1 6 0
  39 0004 86B0     		sub	sp, sp, #24
  40              	.LCFI1:
  41              		.cfi_def_cfa_offset 32
  42              		.loc 1 11 0
  43 0006 4FF40010 		mov	r0, #2097152
  44 000a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
  45              	.LVL0:
  12:src/encoder.c **** 
  13:src/encoder.c ****     /* I2C1 SDA and SCL configuration */
  14:src/encoder.c ****     GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6 | GPIO_Pin_7;
  46              		.loc 1 14 0
  47 000e C023     		movs	r3, #192
  48 0010 ADF80430 		strh	r3, [sp, #4]	@ movhi
  15:src/encoder.c ****     GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
  49              		.loc 1 15 0
  50 0014 0323     		movs	r3, #3
  51 0016 8DF80630 		strb	r3, [sp, #6]
  16:src/encoder.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  17:src/encoder.c ****     GPIO_Init(GPIOB, &GPIO_InitStructure);
  52              		.loc 1 17 0
  53 001a 01A9     		add	r1, sp, #4
  16:src/encoder.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  54              		.loc 1 16 0
  55 001c 1C23     		movs	r3, #28
  56              		.loc 1 17 0
  57 001e 1248     		ldr	r0, .L2
  16:src/encoder.c ****     GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_OD;
  58              		.loc 1 16 0
  59 0020 8DF80730 		strb	r3, [sp, #7]
  60              		.loc 1 17 0
  61 0024 FFF7FEFF 		bl	GPIO_Init
  62              	.LVL1:
  18:src/encoder.c ****     /*SCL is pin06 and SDA is pin 07 for I2C1*/
  19:src/encoder.c **** 
  20:src/encoder.c ****     /* I2C1 configuration */
  21:src/encoder.c ****     I2C_InitStructure.I2C_Mode = I2C_Mode_I2C;
  22:src/encoder.c ****     I2C_InitStructure.I2C_DutyCycle = I2C_DutyCycle_2;
  63              		.loc 1 22 0
  64 0028 4BF6FF72 		movw	r2, #49151
  21:src/encoder.c ****     I2C_InitStructure.I2C_DutyCycle = I2C_DutyCycle_2;
  65              		.loc 1 21 0
  66 002c 0023     		movs	r3, #0
  67 002e ADF80C30 		strh	r3, [sp, #12]	@ movhi
  23:src/encoder.c ****     I2C_InitStructure.I2C_OwnAddress1 = 0x00;
  68              		.loc 1 23 0
  69 0032 ADF81030 		strh	r3, [sp, #16]	@ movhi
  24:src/encoder.c ****     I2C_InitStructure.I2C_Ack = I2C_Ack_Enable;
  70              		.loc 1 24 0
  71 0036 4FF48063 		mov	r3, #1024
  72 003a ADF81230 		strh	r3, [sp, #18]	@ movhi
  25:src/encoder.c ****     I2C_InitStructure.I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
  73              		.loc 1 25 0
  74 003e 4FF48043 		mov	r3, #16384
  75 0042 ADF81430 		strh	r3, [sp, #20]	@ movhi
  26:src/encoder.c ****     I2C_InitStructure.I2C_ClockSpeed = 100000;    // 100 kHz operation
  27:src/encoder.c ****     I2C_Init(I2C1, &I2C_InitStructure);
  76              		.loc 1 27 0
  77 0046 094C     		ldr	r4, .L2+4
  26:src/encoder.c ****     I2C_InitStructure.I2C_ClockSpeed = 100000;    // 100 kHz operation
  78              		.loc 1 26 0
  79 0048 094B     		ldr	r3, .L2+8
  80 004a 06A9     		add	r1, sp, #24
  81 004c 41F8103D 		str	r3, [r1, #-16]!
  82              		.loc 1 27 0
  83 0050 2046     		mov	r0, r4
  22:src/encoder.c ****     I2C_InitStructure.I2C_OwnAddress1 = 0x00;
  84              		.loc 1 22 0
  85 0052 ADF80E20 		strh	r2, [sp, #14]	@ movhi
  86              		.loc 1 27 0
  87 0056 FFF7FEFF 		bl	I2C_Init
  88              	.LVL2:
  28:src/encoder.c **** 
  29:src/encoder.c ****      /*enable I2C*/
  30:src/encoder.c ****     I2C_Cmd(I2C1,ENABLE);
  89              		.loc 1 30 0
  90 005a 0121     		movs	r1, #1
  91 005c 2046     		mov	r0, r4
  92 005e FFF7FEFF 		bl	I2C_Cmd
  93              	.LVL3:
  31:src/encoder.c **** 
  32:src/encoder.c ****     //NVIC_EnableIRQ(I2C1_EV_IRQn);
  33:src/encoder.c **** }
  94              		.loc 1 33 0
  95 0062 06B0     		add	sp, sp, #24
  96              	.LCFI2:
  97              		.cfi_def_cfa_offset 8
  98              		@ sp needed
  99 0064 10BD     		pop	{r4, pc}
 100              	.L3:
 101 0066 00BF     		.align	2
 102              	.L2:
 103 0068 000C0140 		.word	1073810432
 104 006c 00540040 		.word	1073763328
 105 0070 A0860100 		.word	100000
 106              		.cfi_endproc
 107              	.LFE29:
 109              	.Letext0:
 110              		.file 2 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/machine/_default_types.h"
 111              		.file 3 "/opt/gcc-arm-none-eabi-5_2-2015q4/arm-none-eabi/include/sys/_stdint.h"
 112              		.file 4 "./lib/CMSIS/CM3/DeviceSupport/ST/STM32F10x/stm32f10x.h"
 113              		.file 5 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_gpio.h"
 114              		.file 6 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_i2c.h"
 115              		.file 7 "./lib/STM32F10x_StdPeriph_Driver/inc/stm32f10x_rcc.h"
 116              		.file 8 "./lib/CMSIS/CM3/CoreSupport/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 encoder.c
     /tmp/ccvb1Fuf.s:19     .text:00000000 $t
     /tmp/ccvb1Fuf.s:24     .text:00000000 I2C1_Init
     /tmp/ccvb1Fuf.s:103    .text:00000068 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
RCC_APB1PeriphClockCmd
GPIO_Init
I2C_Init
I2C_Cmd
